"use strict";(self["webpackChunkselosele2"]=self["webpackChunkselosele2"]||[]).push([[982],{7982:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var o=n(3396),a=n(7139);const i={class:"d-flex flex--right gap--10 mb--15"};function r(e,t,n,r,s,l){const d=(0,o.up)("ui-icon-button"),c=(0,o.up)("ui-grid"),u=(0,o.up)("app-content-wrapper");return(0,o.wg)(),(0,o.j4)(u,null,{default:(0,o.w5)((()=>[(0,o._)("div",i,[(0,o.Wm)(d,{routerLink:"/add-content",color:"primary",icon:"xi-pen",text:"콘텐츠 생성",showText:!0,class:(0,a.C_)("content__create")}),(0,o.Wm)(d,{color:"dark",icon:"xi-trash",text:"콘텐츠 삭제",showText:!0,class:(0,a.C_)("content__delete"),onClick:l.removeContent},null,8,["onClick"])]),(0,o.Wm)(c,{columnDefs:s.columnDefs,rowData:s.rowData,checkboxIndex:0,pagination:!0,onGridready:l.onGridReady,onCelldoubleclicked:l.onCellDoubleClicked},null,8,["columnDefs","rowData","onGridready","onCelldoubleclicked"])])),_:1})}var s=n(8822),l={name:"AppAdminContent",data(){return{columnDefs:[{},{headerName:"콘텐츠 URL",field:"link",width:100},{headerName:"콘텐츠 제목",field:"title"},{headerName:"콘텐츠 등록일시",field:"regDate",width:100},{headerName:"콘텐츠 수정일시",field:"modDate",width:100}],rowData:[],gridApi:null}},async created(){this.$store.dispatch("Breadcrumb/FETCH_PAGE_TITLE","콘텐츠 관리"),await this.listContent()},methods:{onGridReady(e){this.gridApi=e},onCellDoubleClicked(e){this.$router.push(`/content${e.data["link"]}`)},listContent(){return this.$http.get("/content").then((e=>{this.rowData=[],e.data[0].forEach((e=>{e.regDate=this.$moment(e.regDate).format("YYYY-MM-DD HH:mm:ss"),(0,s.UE)(e.modDate)&&(e.modDate=this.$moment(e.modDate).format("YYYY-MM-DD HH:mm:ss")),this.rowData.push(e)}))}))},async removeContent(){const e=this.gridApi.getSelectedRows();if(0===e.length)return void s.wW.toastWarning("삭제할 콘텐츠를 선택하세요.");const t=await s.wW.confirmQuestion("삭제하시겠습니까?");if(!t)return;let n=[];e.forEach(((e,t)=>{n.push({id:e.id})})),this.$http.post("/content/remove",n).then((e=>{this.gridApi.removeSelectedRows(),s.wW.toastSuccess("삭제되었습니다.")}))}}},d=n(89);const c=(0,d.Z)(l,[["render",r]]);var u=c}}]);