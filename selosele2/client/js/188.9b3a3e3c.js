"use strict";(self["webpackChunkselosele2"]=self["webpackChunkselosele2"]||[]).push([[188],{7188:function(e,o,l){l.r(o),l.d(o,{default:function(){return B}});var a=l(3396),g=l(7139);const t=e=>((0,a.dD)("data-v-4b64d93a"),e=e(),(0,a.Cn)(),e),i=t((()=>(0,a._)("th",{scope:"row"},[(0,a._)("label",{for:"blogConfigTitle"},[(0,a.Uk)("블로그 제목"),(0,a._)("br"),(0,a.Uk)("(100자 이내) "),(0,a._)("sup",null,[(0,a.Uk)("* "),(0,a._)("span",{class:"sr-only"},"필수입력란")])])],-1))),n=t((()=>(0,a._)("th",{scope:"row"},[(0,a._)("label",{for:"blogConfigAuthor"},[(0,a.Uk)("닉네임(30자 이내) "),(0,a._)("sup",null,[(0,a.Uk)("* "),(0,a._)("span",{class:"sr-only"},"필수입력란")])])],-1))),r=t((()=>(0,a._)("th",{scope:"row"},[(0,a._)("label",{for:"blogConfigDesc"},"블로그 소개(100자 이내)")],-1))),s=t((()=>(0,a._)("th",{scope:"row"},[(0,a._)("label",{for:"blogConfigAvatarImgFile"},"아바타 이미지")],-1))),m=t((()=>(0,a._)("th",{scope:"row"},[(0,a._)("label",{for:"blogConfigOgImgFile"},"대표 이미지")],-1))),u=t((()=>(0,a._)("th",{scope:"row"},[(0,a._)("label",{for:"blogConfigOgImgContrast"},"대표 이미지 밝기")],-1))),d=t((()=>(0,a._)("th",{scope:"row"},[(0,a._)("label",{for:"blogConfigOgImgBlur"},"대표 이미지 흐림")],-1))),f={class:"blog-config__og-image-wrapper blog-config__og-image-wrapper--active"},C=t((()=>(0,a._)("th",{scope:"row"},"대표 이미지 위치값",-1))),p=t((()=>(0,a._)("th",{scope:"row"},[(0,a._)("label",{for:"blogConfigPageSize"},"메인 포스트 출력 개수")],-1))),v=t((()=>(0,a._)("th",{scope:"row"},[(0,a._)("label",{for:"blogConfigShowSatisYn"},"페이지 만족도조사 표출")],-1))),I=t((()=>(0,a._)("th",{scope:"row"},[(0,a._)("label",{for:"blogConfigKakaoMsgYn"},"카카오톡 메시지 수신")],-1)));function c(e,o,l,t,c,h){const b=(0,a.up)("ui-hidden-field"),_=(0,a.up)("ui-text-field"),w=(0,a.up)("ui-textarea"),B=(0,a.up)("ui-file-button"),F=(0,a.up)("ui-file-field"),V=(0,a.up)("ui-checkbox"),S=(0,a.up)("ui-file-info"),z=(0,a.up)("ui-numeric-field"),k=(0,a.up)("ui-radio"),$=(0,a.up)("ui-button"),U=(0,a.up)("ui-write-table"),W=(0,a.up)("ui-form"),O=(0,a.up)("app-content-wrapper");return(0,a.wg)(),(0,a.j4)(O,null,{default:(0,a.w5)((()=>[(0,a.Wm)(W,{name:"blogConfigForm",ref:"blogConfigForm",class:(0,g.C_)("blog-config__frm"),onOnsubmit:h.onSubmit},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{name:"id",id:"blogConfigId",value:e.$store.state.BlogConfig.data?.id},null,8,["value"]),(0,a.Wm)(U,{name:"블로그 환경설정 작성 폼",colWidth:["20%","80%"]},{btn:(0,a.w5)((()=>[(0,a.Wm)($,{type:"reset",color:"secondary",text:"다시작성"}),(0,a.Wm)($,{type:"submit",color:"primary",text:"저장"})])),default:(0,a.w5)((()=>[(0,a._)("tr",null,[i,(0,a._)("td",null,[(0,a.Wm)(_,{name:"title",id:"blogConfigTitle",clazz:["blog-config__title"],block:!0,rules:"required|max:100",value:e.$store.state.BlogConfig.data?.title,modelValue:c.previewBlogConfig.title,"onUpdate:modelValue":o[0]||(o[0]=e=>c.previewBlogConfig.title=e)},null,8,["value","modelValue"])])]),(0,a._)("tr",null,[n,(0,a._)("td",null,[(0,a.Wm)(_,{name:"author",id:"blogConfigAuthor",clazz:["blog-config__author"],block:!0,rules:"required|max:30",value:e.$store.state.BlogConfig.data?.author,modelValue:c.previewBlogConfig.author,"onUpdate:modelValue":o[1]||(o[1]=e=>c.previewBlogConfig.author=e)},null,8,["value","modelValue"])])]),(0,a._)("tr",null,[r,(0,a._)("td",null,[(0,a.Wm)(w,{name:"desc",id:"blogConfigDesc",cols:"30",rows:"10",resize:"vertical",rules:"required|max:100",value:e.$store.state.BlogConfig.data?.desc,modelValue:c.previewBlogConfig.desc,"onUpdate:modelValue":o[2]||(o[2]=e=>c.previewBlogConfig.desc=e)},null,8,["value","modelValue"])])]),(0,a._)("tr",null,[s,(0,a._)("td",null,[(0,a.Wm)(b,{name:"avatarImg",id:"blogConfigAvatarImg",value:e.$store.state.BlogConfig.data?.avatarImg},null,8,["value"]),(0,a.Wm)(b,{name:"avatarImgUrl",id:"blogConfigAvatarImgUrl",value:e.$store.state.BlogConfig.data?.avatarImgUrl,modelValue:c.previewBlogConfig.avatarImgUrl,"onUpdate:modelValue":o[3]||(o[3]=e=>c.previewBlogConfig.avatarImgUrl=e)},null,8,["value","modelValue"]),(0,a.Wm)(b,{name:"avatarImgSize",id:"blogConfigAvatarImgSize",value:e.$store.state.BlogConfig.data?.avatarImgSize},null,8,["value"]),(0,a.Wm)(F,{name:"avatarImgFile",id:"blogConfigAvatarImgFile",accept:"image/*",gap:10,onOnchange:h.onChangeAvatarImg},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{color:"secondary",text:"Cloudinary",listKey:"avatar",onListFile:h.onListFile,onClickFile:h.onClickFile},null,8,["onListFile","onClickFile"])])),_:1},8,["onOnchange"]),e.$store.state.BlogConfig.data?.avatarImg?((0,a.wg)(),(0,a.j4)(S,{key:0,imgName:c.avatarImg,imgSize:c.avatarImgSize},{default:(0,a.w5)((()=>[(0,a.Wm)(V,{name:"delAvatarImg",id:"blogConfigDelAvatarImg",label:"삭제",values:"Y,N"})])),_:1},8,["imgName","imgSize"])):(0,a.kq)("",!0)])]),(0,a._)("tr",null,[m,(0,a._)("td",null,[(0,a.Wm)(b,{name:"ogImg",id:"blogConfigOgImg",value:e.$store.state.BlogConfig.data?.ogImg},null,8,["value"]),(0,a.Wm)(b,{name:"ogImgUrl",id:"blogConfigOgImgUrl",value:e.$store.state.BlogConfig.data?.ogImgUrl,modelValue:c.previewBlogConfig.ogImgUrl,"onUpdate:modelValue":o[4]||(o[4]=e=>c.previewBlogConfig.ogImgUrl=e)},null,8,["value","modelValue"]),(0,a.Wm)(b,{name:"ogImgSize",id:"blogConfigOgImgSize",value:e.$store.state.BlogConfig.data?.ogImgSize},null,8,["value"]),(0,a.Wm)(F,{name:"ogImgFile",id:"blogConfigOgImgFile",accept:"image/*",gap:10,onOnchange:h.onChangeOgImg},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{color:"secondary",text:"Cloudinary",listKey:"og",onListFile:h.onListFile,onClickFile:h.onClickFile},null,8,["onListFile","onClickFile"])])),_:1},8,["onOnchange"]),e.$store.state.BlogConfig.data?.ogImg?((0,a.wg)(),(0,a.j4)(S,{key:0,imgName:c.ogImg,imgSize:c.ogImgSize},{default:(0,a.w5)((()=>[(0,a.Wm)(V,{name:"delOgImg",id:"blogConfigDelOgImg",label:"삭제",values:"Y,N"})])),_:1},8,["imgName","imgSize"])):(0,a.kq)("",!0)])]),(0,a._)("tr",null,[u,(0,a._)("td",null,[(0,a.Wm)(z,{name:"ogImgContrast",id:"blogConfigOgImgContrast",step:"0.01",min:"0",max:"1.1",rules:"between:0,1.1",text:"0.1 ~ 1 이하 (초기화 0)",value:e.$store.state.BlogConfig.data?.ogImgContrast,modelValue:c.previewBlogConfig.ogImgContrast,"onUpdate:modelValue":o[5]||(o[5]=e=>c.previewBlogConfig.ogImgContrast=e)},null,8,["step","max","rules","text","value","modelValue"])])]),(0,a._)("tr",null,[d,(0,a._)("td",null,[(0,a.Wm)(z,{name:"ogImgBlur",id:"blogConfigOgImgBlur",step:"0.01",min:"0",max:"9.9",rules:"between:0,9.9",text:"0.1 ~ 10 미만 (초기화 0)",value:e.$store.state.BlogConfig.data?.ogImgBlur,modelValue:c.previewBlogConfig.ogImgBlur,"onUpdate:modelValue":o[6]||(o[6]=e=>c.previewBlogConfig.ogImgBlur=e)},null,8,["step","max","rules","text","value","modelValue"])])]),(0,a._)("tr",f,[C,(0,a._)("td",null,[(0,a.Wm)(z,{name:"ogImgPosX",id:"blogConfigOgImgPosX",min:"0",max:"100",rules:"between:0,100",text:"가로 0 ~ 100 (기본 50)",title:"대표 이미지 가로 위치값",value:e.$store.state.BlogConfig.data?.ogImgPosX,modelValue:c.previewBlogConfig.ogImgPosX,"onUpdate:modelValue":o[7]||(o[7]=e=>c.previewBlogConfig.ogImgPosX=e)},null,8,["text","value","modelValue"]),(0,a.Wm)(z,{name:"ogImgPosY",id:"blogConfigOgImgPosY",min:"0",max:"100",rules:"between:0,100",text:"세로 0 ~ 100 (기본 50)",title:"대표 이미지 세로 위치값",value:e.$store.state.BlogConfig.data?.ogImgPosY,modelValue:c.previewBlogConfig.ogImgPosY,"onUpdate:modelValue":o[8]||(o[8]=e=>c.previewBlogConfig.ogImgPosY=e)},null,8,["text","value","modelValue"]),(0,a.Wm)(k,{id:"blogConfigOgImgCoverY",name:"ogImgCoverYn",label:"이미지 채우기",rules:"required",value:"Y",modelValue:c.previewBlogConfig.ogImgCoverYn,"onUpdate:modelValue":o[9]||(o[9]=e=>c.previewBlogConfig.ogImgCoverYn=e)},null,8,["modelValue"]),(0,a.Wm)(k,{id:"blogConfigOgImgCoverN",name:"ogImgCoverYn",label:"이미지 비율 유지",rules:"required",value:"N",modelValue:c.previewBlogConfig.ogImgCoverYn,"onUpdate:modelValue":o[10]||(o[10]=e=>c.previewBlogConfig.ogImgCoverYn=e)},null,8,["modelValue"])])]),(0,a._)("tr",null,[p,(0,a._)("td",null,[(0,a.Wm)(z,{name:"pageSize",id:"blogConfigPageSize",min:"2",max:"10",rules:"between:2,10",text:"2 ~ 10 (기본 6)",value:e.$store.state.BlogConfig.data?.pageSize,modelValue:c.pageSize,"onUpdate:modelValue":o[11]||(o[11]=e=>c.pageSize=e)},null,8,["text","value","modelValue"])])]),(0,a._)("tr",null,[v,(0,a._)("td",null,[(0,a.Wm)(V,{name:"showSatisYn",id:"blogConfigShowSatisYn",label:"페이지 만족도조사 표출",hideLabel:!0,values:"Y,N",modelValue:c.showSatisYn,"onUpdate:modelValue":o[12]||(o[12]=e=>c.showSatisYn=e)},null,8,["modelValue"])])]),(0,a._)("tr",null,[I,(0,a._)("td",null,[(0,a.Wm)(V,{name:"kakaoMsgYn",id:"blogConfigKakaoMsgYn",label:"카카오톡 메시지 수신",hideLabel:!0,values:"Y,N",modelValue:c.kakaoMsgYn,"onUpdate:modelValue":o[13]||(o[13]=e=>c.kakaoMsgYn=e)},null,8,["modelValue"])])])])),_:1})])),_:1},8,["onOnsubmit"])])),_:1})}var h=l(8822),b={name:"AppAdminBlogConfig",data(){return{pageTitle:"블로그 환경설정",avatarImg:"",avatarImgUrl:"",avatarImgSize:"",ogImg:"",ogImgUrl:"",ogImgSize:"",showSatisYn:"",kakaoMsgYn:"",avatarFileList:[],ogFileList:[],pageSize:"",previewBlogConfig:{}}},async beforeRouteLeave(e,o,l){(0,h.UE)(this.$store.state.BlogConfig?.previewData)&&(this.$store.dispatch("BlogConfig/FETCH_PREVIEW_DATA",null),await this.$store.dispatch("BlogConfig/GET_BLOG_CONFIG")),l()},created(){this.$store.dispatch("BlogConfig/GET_BLOG_CONFIG").then((e=>{this.avatarImg=e?.avatarImg,this.avatarImgSize=e?.avatarImgSize,this.ogImg=e?.ogImg,this.ogImgSize=e?.ogImgSize,this.pageSize=e?.pageSize,this.showSatisYn=e?.showSatisYn,this.kakaoMsgYn=e?.kakaoMsgYn,this.$store.dispatch("BlogConfig/FETCH_PREVIEW_DATA",null),(0,h.xb)(this.$store.state.BlogConfig?.previewData)?this.previewBlogConfig=Object.assign({},e):this.previewBlogConfig=Object.assign({},this.$store.state.BlogConfig?.previewData),this.$store.dispatch("Breadcrumb/FETCH_PAGE_TITLE",this.pageTitle)}))},watch:{previewBlogConfig:{handler:function(e,o){this.$store.dispatch("BlogConfig/FETCH_BLOG_CONFIG",e),this.$store.dispatch("BlogConfig/FETCH_PREVIEW_DATA",e)},deep:!0}},methods:{async onSubmit(e){const o=await h.wW.confirmSuccess("저장하시겠습니까?");if(!o)return;const l={"Content-Type":"multipart/form-data"};this.$http.put("/blogconfig",e,{headers:l}).then((e=>{h.wW.toastSuccess("저장되었습니다."),this.$store.dispatch("BlogConfig/FETCH_BLOG_CONFIG",e.data),this.$store.dispatch("BlogConfig/FETCH_PREVIEW_DATA",null),this.$store.dispatch("Breadcrumb/FETCH_PAGE_TITLE",this.pageTitle)}))},onChangeAvatarImg(e){(0,h.UE)(e)&&(this.avatarImg=e.name,this.avatarImgSize=e.size)},onChangeOgImg(e){(0,h.UE)(e)&&(this.ogImg=e.name,this.ogImgSize=e.size)},onClickFile(e,o){"avatar"===o?(this.$refs["blogConfigForm"].setFieldValue("avatarImg",e.public_id+"."+e.format),this.$refs["blogConfigForm"].setFieldValue("avatarImgUrl",e.url),this.$refs["blogConfigForm"].setFieldValue("avatarImgSize",e.bytes)):"og"===o&&(this.$refs["blogConfigForm"].setFieldValue("ogImg",e.public_id+"."+e.format),this.$refs["blogConfigForm"].setFieldValue("ogImgUrl",e.url),this.$refs["blogConfigForm"].setFieldValue("ogImgSize",e.bytes))},onListFile(e,o){"avatar"===o?(this.ogFileList=[],this.avatarFileList=e):"og"===o&&(this.avatarFileList=[],this.ogFileList=e)}}},_=l(89);const w=(0,_.Z)(b,[["render",c],["__scopeId","data-v-4b64d93a"]]);var B=w}}]);