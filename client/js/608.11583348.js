"use strict";(self["webpackChunkselosele2"]=self["webpackChunkselosele2"]||[]).push([[608],{6597:function(e,l,a){a.d(l,{a:function(){return g}});var t=a(9266),o=a(8822);class i{constructor(){}setPageTitle(e){(0,o.UE)(e)?document.title=`${e} - ${t.Z.state.BlogConfig.data.title}`:document.title=t.Z.state.BlogConfig.data.title}}const g=new i},8608:function(e,l,a){a.r(l),a.d(l,{default:function(){return U}});var t=a(3396),o=a(7139);const i=e=>((0,t.dD)("data-v-01fb408e"),e=e(),(0,t.Cn)(),e),g=i((()=>(0,t._)("th",{scope:"row"},[(0,t._)("label",{for:"blogConfigTitle"},[(0,t.Uk)("블로그 제목"),(0,t._)("br"),(0,t.Uk)("(100자 이내) "),(0,t._)("sup",null,[(0,t.Uk)("* "),(0,t._)("span",{class:"sr-only"},"필수입력란")])])],-1))),n=i((()=>(0,t._)("th",{scope:"row"},[(0,t._)("label",{for:"blogConfigAuthor"},[(0,t.Uk)("닉네임(30자 이내) "),(0,t._)("sup",null,[(0,t.Uk)("* "),(0,t._)("span",{class:"sr-only"},"필수입력란")])])],-1))),s=i((()=>(0,t._)("th",{scope:"row"},[(0,t._)("label",{for:"blogConfigDesc"},"블로그 소개")],-1))),r=i((()=>(0,t._)("th",{scope:"row"},[(0,t._)("label",{for:"blogConfigAvatarImgFile"},"블로그 아바타 이미지")],-1))),u=(0,t.Uk)("Cloudinary "),m={key:0,class:"blog-config__avatar-image-use-wrapper"},d={class:"blog-config__avatar-image-use"},f=i((()=>(0,t._)("th",{scope:"row"},[(0,t._)("label",{for:"blogConfigOgImgFile"},"블로그 대표 이미지")],-1))),b=(0,t.Uk)("Cloudinary "),c={key:0,class:"blog-config__og-image-use-wrapper"},h={class:"blog-config__og-image-use"},v=i((()=>(0,t._)("th",{scope:"row"},[(0,t._)("label",{for:"ogImgContrast"},"블로그 대표 이미지 밝기")],-1))),C=i((()=>(0,t._)("th",{scope:"row"},[(0,t._)("label",{for:"blogConfigOgImgBlur"},"블로그 대표 이미지 흐림")],-1))),_={class:"blog-config__og-image-wrapper blog-config__og-image-wrapper--active"},p=i((()=>(0,t._)("th",{scope:"row"},[(0,t._)("label",{for:"blogConfigOgImgPosX"},"블로그 대표 이미지 위치값")],-1))),I=i((()=>(0,t._)("th",{scope:"row"},[(0,t._)("label",{for:"blogConfigPageSize"},"메인 포스트 목록 출력 개수")],-1))),w=i((()=>(0,t._)("th",{scope:"row"},[(0,t._)("label",{for:"blogConfigshowSatisYn"},"페이지 만족도조사 표출")],-1))),F={class:"d-flex-w flex--center gap--10 mt--20 mb--20"},S=(0,t.Uk)("다시작성 "),k=(0,t.Uk)("저장 ");function z(e,l,a,i,z,W){const L=(0,t.up)("ui-loading"),x=(0,t.up)("ui-hidden-field"),y=(0,t.up)("ui-text-field"),O=(0,t.up)("ui-textarea"),U=(0,t.up)("ui-button"),Y=(0,t.up)("ui-file-list"),P=(0,t.up)("ui-file-field"),$=(0,t.up)("ui-checkbox"),A=(0,t.up)("ui-numeric-field"),T=(0,t.up)("ui-write-table"),B=(0,t.up)("ui-form"),V=(0,t.up)("app-content-wrapper");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(L,{activeModel:!z.dataLoaded,fullPage:!0},null,8,["activeModel"]),(0,t.Wm)(V,{pageTitle:z.pageTitle},{default:(0,t.w5)((()=>[(0,t.Wm)(B,{name:"blogConfigForm",ref:"blogConfigForm",class:(0,o.C_)("blog-config__frm"),onOnsubmit:W.onSubmit},{default:(0,t.w5)((()=>[(0,t.Wm)(x,{name:"id",id:"blogConfigId",value:W.blogConfig.id},null,8,["value"]),(0,t.Wm)(T,{name:"블로그 환경설정 작성 폼"},{default:(0,t.w5)((()=>[(0,t._)("tr",null,[g,(0,t._)("td",null,[(0,t.Wm)(y,{type:"text",name:"title",id:"blogConfigTitle",class:(0,o.C_)("blog-config__title"),block:!0,rules:"required|max:100",value:W.blogConfig.title},null,8,["value"])])]),(0,t._)("tr",null,[n,(0,t._)("td",null,[(0,t.Wm)(y,{type:"text",name:"author",id:"blogConfigAuthor",class:(0,o.C_)("blog-config__author"),block:!0,rules:"required|max:30",value:W.blogConfig.author},null,8,["value"])])]),(0,t._)("tr",null,[s,(0,t._)("td",null,[(0,t.Wm)(O,{name:"desc",id:"blogConfigDesc",cols:"30",rows:"10",resize:"vertical",value:W.blogConfig.desc},null,8,["value"])])]),(0,t._)("tr",null,[r,(0,t._)("td",null,[(0,t.Wm)(x,{name:"avatarImg",id:"blogConfigAvatarImg",value:W.blogConfig.avatarImg},null,8,["value"]),(0,t.Wm)(x,{name:"avatarImgUrl",id:"blogConfigAvatarImgUrl",value:W.blogConfig.avatarImgUrl},null,8,["value"]),(0,t.Wm)(x,{name:"avatarImgSize",id:"blogConfigAvatarImgSize",value:W.blogConfig.avatarImgSize},null,8,["value"]),(0,t.Wm)(P,{name:"avatarImgFile",id:"blogConfigAvatarImgFile",accept:"image/*",gap:10,onOnchange:W.onChangeAvatarImg},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{type:"button",color:"secondary",onClick:l[0]||(l[0]=e=>W.listFile("avatar"))},{default:(0,t.w5)((()=>[u])),_:1}),z.dataLoaded&&0<z.avatarFileList.length?((0,t.wg)(),(0,t.j4)(Y,{key:0,value:z.avatarFileList,onClickFile:W.onClickFile},null,8,["value","onClickFile"])):(0,t.kq)("",!0)])),_:1},8,["onOnchange"]),W.blogConfig.avatarImg?((0,t.wg)(),(0,t.iD)("div",m,[(0,t._)("span",d,(0,o.zw)(z.avatarImg)+" (용량 : "+(0,o.zw)(z.getFileSize(z.avatarImgSize))+") ",1),(0,t.Wm)($,{name:"delAvatarImg",id:"blogConfigDelAvatarImg",label:"삭제",values:"Y,N"})])):(0,t.kq)("",!0)])]),(0,t._)("tr",null,[f,(0,t._)("td",null,[(0,t.Wm)(x,{name:"ogImg",id:"blogConfigOgImg",value:W.blogConfig.ogImg},null,8,["value"]),(0,t.Wm)(x,{name:"ogImgUrl",id:"blogConfigOgImgUrl",value:W.blogConfig.ogImgUrl},null,8,["value"]),(0,t.Wm)(x,{name:"ogImgSize",id:"blogConfigOgImgSize",value:W.blogConfig.ogImgSize},null,8,["value"]),(0,t.Wm)(P,{name:"ogImgFile",id:"blogConfigOgImgFile",accept:"image/*",gap:10,onOnchange:W.onChangeOgImg},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{type:"button",color:"secondary",onClick:l[1]||(l[1]=e=>W.listFile("og"))},{default:(0,t.w5)((()=>[b])),_:1}),z.dataLoaded&&0<z.ogFileList.length?((0,t.wg)(),(0,t.j4)(Y,{key:0,value:z.ogFileList,onClickFile:W.onClickFile},null,8,["value","onClickFile"])):(0,t.kq)("",!0)])),_:1},8,["onOnchange"]),W.blogConfig.ogImg?((0,t.wg)(),(0,t.iD)("div",c,[(0,t._)("span",h,(0,o.zw)(z.ogImg)+" (용량 : "+(0,o.zw)(z.getFileSize(z.ogImgSize))+") ",1),(0,t.Wm)($,{name:"delOgImg",id:"blogConfigDelOgImg",label:"삭제",values:"Y,N"})])):(0,t.kq)("",!0)])]),(0,t._)("tr",null,[v,(0,t._)("td",null,[(0,t.Wm)(A,{name:"ogImgContrast",id:"blogConfigOgImgContrast",step:"0.01",min:"0",max:"1.1",rules:"between:0,1.1",text:"0.1 ~ 1 미만 (초기화 0)",value:W.blogConfig.ogImgContrast},null,8,["step","max","rules","text","value"])])]),(0,t._)("tr",null,[C,(0,t._)("td",null,[(0,t.Wm)(A,{name:"ogImgBlur",id:"blogConfigOgImgBlur",step:"0.01",min:"0",max:"9.9",rules:"between:0,9.9",text:"0.1 ~ 10 미만 (초기화 0)",value:W.blogConfig.ogImgBlur},null,8,["step","max","rules","text","value"])])]),(0,t._)("tr",_,[p,(0,t._)("td",null,[(0,t.Wm)(A,{name:"ogImgPosX",id:"blogConfigOgImgPosX",min:"0",max:"100",rules:"between:0,100",text:"가로 0 ~ 100 (기본 50)",value:W.blogConfig.ogImgPosX},null,8,["text","value"]),(0,t.Wm)(A,{name:"ogImgPosY",id:"blogConfigOgImgPosY",min:"0",max:"100",rules:"between:0,100",text:"세로 0 ~ 100 (기본 50)",value:W.blogConfig.ogImgPosY},null,8,["text","value"])])]),(0,t._)("tr",null,[I,(0,t._)("td",null,[(0,t.Wm)(A,{name:"pageSize",id:"blogConfigPageSize",min:"2",max:"10",rules:"between:2,10",text:"2 ~ 10 (기본 6)",value:W.blogConfig.pageSize},null,8,["text","value"])])]),(0,t._)("tr",null,[w,(0,t._)("td",null,[(0,t.Wm)($,{name:"showSatisYn",id:"blogConfigshowSatisYn",label:"페이지 만족도조사 표출",labelHidden:!0,values:"Y,N",modelValue:z.showSatisYn,"onUpdate:modelValue":l[2]||(l[2]=e=>z.showSatisYn=e)},null,8,["modelValue"])])])])),_:1}),(0,t._)("div",F,[(0,t.Wm)(U,{type:"reset",color:"secondary"},{default:(0,t.w5)((()=>[S])),_:1}),(0,t.Wm)(U,{type:"submit",color:"primary"},{default:(0,t.w5)((()=>[k])),_:1})])])),_:1},8,["onOnsubmit"])])),_:1},8,["pageTitle"])],64)}var W=a(6597),L=a(8822),x={name:"app-blog-config",data(){return{pageTitle:"블로그 환경설정",avatarImg:"",avatarImgSize:"",ogImg:"",ogImgSize:"",showSatisYn:"",avatarFileList:[],ogFileList:[],dataLoaded:!1,getFileSize:L.hR}},created(){W.a.setPageTitle(this.pageTitle),this.avatarImg=this.blogConfig.avatarImg,this.avatarImgSize=this.blogConfig.avatarImgSize,this.ogImg=this.blogConfig.ogImg,this.ogImgSize=this.blogConfig.ogImgSize,this.showSatisYn=this.blogConfig.showSatisYn,this.dataLoaded=!0},computed:{blogConfig:{get(){return this.$store.state.BlogConfig.data},set(e){}}},methods:{async onSubmit(e){const l=await L.wW.confirmSuccess("저장하시겠습니까?");if(!l)return;const a={"Content-Type":"multipart/form-data"};this.$http.put("/blogconfig",e,{headers:a}).then((e=>{L.wW.toastSuccess("저장되었습니다."),document.title=e.data.title,this.$store.dispatch("BlogConfig/FETCH_BLOG_CONFIG",e.data)}))},onChangeAvatarImg(e){(0,L.UE)(e)&&(this.avatarImg=e.name,this.avatarImgSize=e.size)},onChangeOgImg(e){(0,L.UE)(e)&&(this.ogImg=e.name,this.ogImgSize=e.size)},onClickFile(e){0<this.avatarFileList.length?(this.$refs["blogConfigForm"].setFieldValue("avatarImg",e.public_id),this.$refs["blogConfigForm"].setFieldValue("avatarImgUrl",e.url),this.$refs["blogConfigForm"].setFieldValue("avatarImgSize",e.bytes)):0<this.ogFileList.length&&(this.$refs["blogConfigForm"].setFieldValue("ogImg",e.public_id),this.$refs["blogConfigForm"].setFieldValue("ogImgUrl",e.url),this.$refs["blogConfigForm"].setFieldValue("ogImgSize",e.bytes))},async listFile(e){"avatar"===e&&0<this.avatarFileList.length?this.avatarFileList=[]:"og"===e&&0<this.ogFileList.length?this.ogFileList=[]:(this.dataLoaded=!1,await(()=>this.$http.get("/file").then((l=>{0!==l.data.length?"avatar"===e?(this.avatarFileList=[...l.data],this.ogFileList=[]):"og"===e&&(this.ogFileList=[...l.data],this.avatarFileList=[]):L.wW.toastWarning("파일이 존재하지 않습니다.")})))(),this.dataLoading())},dataLoading(){(0<this.avatarFileList.length||0<this.ogFileList.length)&&(this.dataLoaded=!0)}}},y=a(89);const O=(0,y.Z)(x,[["render",z],["__scopeId","data-v-01fb408e"]]);var U=O}}]);
//# sourceMappingURL=608.11583348.js.map