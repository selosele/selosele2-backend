{"version":3,"file":"js/719.02514a78.js","mappings":"+LACOA,MAAM,qB,GAcSA,MAAM,mB,GACRA,MAAM,kB,GAUlBC,EAAAA,EAAAA,GAAgD,KAA7CD,MAAM,gBAAgB,cAAY,QAArC,S,GACAC,EAAAA,EAAAA,GAAgC,QAA1BD,MAAM,WAAU,OAAG,G,GADzBE,EACAC,G,oGA1BNC,EAAAA,EAAAA,IA6BM,MA7BN,EA6BM,CA5BaC,EAAAA,aAAjB,WAMAD,EAAAA,EAAAA,IAqBWE,EAAAA,GAAA,CAAAC,IAAAA,GAAA,EApBTN,EAAAA,EAAAA,GAWK,0BAVHG,EAAAA,EAAAA,IASWE,EAAAA,GAAA,MAAAE,EAAAA,EAAAA,IATkBH,EAAAA,UAAQ,CAAnBI,EAAKC,M,WACrBN,EAAAA,EAAAA,IAOK,M,IARsCM,EACtCV,OAAK,gCAAwDS,EAAKE,UAAQ,4BAA/E,EAGEC,EAAAA,EAAAA,IAGcC,EAAA,CAHAC,GAAE,SAAWL,EAAKM,MAAhC,C,kBACE,IAAyD,EAAzDd,EAAAA,EAAAA,GAAyD,SAAzD,GAAyDe,EAAAA,EAAAA,IAAtBP,EAAKQ,OAAK,IAC7ChB,EAAAA,EAAAA,GAAsD,OAAtD,GAAsDe,EAAAA,EAAAA,IAAtBP,EAAKS,SAAO,M,KAF9C,cAHF,MADF,QAeYb,EAAAA,QAAUA,EAAAA,WAAaA,EAAAA,aAAAA,EAAAA,EAAAA,OAHrCD,EAAAA,EAAAA,IAMS,U,MANDe,KAAK,SACLnB,MAAM,YACLoB,QAAK,oBAAEC,EAAAA,MAAAA,EAAAA,QAAAA,KAFhB,qBAdF,OANiBhB,EAAAA,EAAAA,OAAjBD,EAAAA,EAAAA,IAIWE,EAAAA,GAAA,CAAAC,IAAAA,GAAA,EAHTK,EAAAA,EAAAA,IAAkCU,EAAA,CAApBC,OAAQ,UAAQ,oBAC9BX,EAAAA,EAAAA,IAAkCU,EAAA,CAApBC,OAAQ,UAAQ,oBAC9BX,EAAAA,EAAAA,IAAkCU,EAAA,CAApBC,OAAQ,UAAQ,oBAHhC,M,cAkCJ,GACEC,KAAM,eACNC,MAAO,CACLN,KAAMO,OACNC,GAAID,OACJX,GAAIW,QAENE,WAAY,CACVC,WAAUA,EAAAA,GAEZC,OACE,MAAO,CACLC,KAAM,EACNC,SAAU,GACVC,QAAS,EACTC,SAAU,GACVC,YAAY,EACZC,YAAY,EAEf,EACDC,UACEC,KAAKC,MACN,EACDC,MAAO,CACLC,OAAO3B,EAAI4B,GACTJ,KAAKC,MACN,GAEHI,QAAS,CACPC,aACEN,KAAKP,KAAO,EACZO,KAAKH,YAAa,EAClBG,KAAKF,YAAa,EAClBE,KAAKJ,SAAW,SAEVI,KAAKO,qBACXP,KAAKQ,aACN,EAEDD,qBACE,IAAIE,EAAgB,CAClBhB,KAAMO,KAAKP,KACXC,SAAUM,KAAKN,UAGjB,OAAOM,KAAKU,MAAMC,IAAK,SAAQX,KAAKnB,aAAamB,KAAKvB,KAAM,CAAEmC,OAAQH,IACnEI,MAAKC,IACJA,EAAItB,KAAK,GAAGuB,KAAIC,IACdA,EAAEpC,QAAUoB,KAAKiB,QAAQD,EAAEpC,SAASsC,OAAO,cAC3ClB,KAAKJ,SAASuB,KAAKH,EAAnB,IAGFhB,KAAKL,QAAUmB,EAAItB,KAAK,GAEpBQ,KAAKL,UAAYK,KAAKJ,SAASwB,SACjCpB,KAAKH,YAAa,EACpB,GAEL,EACDwB,OACErB,KAAKP,OACLO,KAAKO,oBACN,EAEDC,cACM,EAAIR,KAAKJ,SAASwB,SACpBpB,KAAKF,YAAa,EAErB,I,QCjGL,MAAMwB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://selosele2/./src/views/AppCategory.vue","webpack://selosele2/./src/views/AppCategory.vue?05f4"],"sourcesContent":["<template>\r\n  <div class=\"category__wrapper\">\r\n    <template v-if=\"!dataLoaded\">\r\n      <ui-skeletor :height=\"'1.3rem'\" />\r\n      <ui-skeletor :height=\"'1.3rem'\" />\r\n      <ui-skeletor :height=\"'1.3rem'\" />\r\n    </template>\r\n\r\n    <template v-else>\r\n      <ul>\r\n        <template v-for=\"(post,i) in postList\" :key=\"i\">\r\n          <li :class=\"[\r\n            'category__item',\r\n            'Y' === post.secretYn && 'category__item--secret']\">\r\n            <router-link :to=\"`/post/${post.id}`\">\r\n              <strong class=\"category__title\">{{ post.title }}</strong>\r\n              <span class=\"category__date\">{{ post.regDate }}</span>\r\n            </router-link>\r\n          </li>\r\n        </template>\r\n      </ul>\r\n\r\n      <button type=\"button\"\r\n              class=\"btn--more\"\r\n              @click=\"more\"\r\n              v-if=\"listCnt > pageSize && !isLastPage\">\r\n        <i class=\"xi-ellipsis-h\" aria-hidden=\"true\"></i>\r\n        <span class=\"sr-only\">더보기</span>\r\n      </button>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport UiSkeletor from '@/components/shared/skeletor/UiSkeletor.vue';\r\n\r\nexport default {\r\n  name: 'app-category',\r\n  props: {\r\n    type: String,\r\n    nm: String,\r\n    id: String,\r\n  },\r\n  components: {\r\n    UiSkeletor,\r\n  },\r\n  data() {\r\n    return {\r\n      page: 1,\r\n      pageSize: 20,\r\n      listCnt: 0,\r\n      postList: [],\r\n      isLastPage: false,\r\n      dataLoaded: false,\r\n    }\r\n  },\r\n  created() {\r\n    this.init();\r\n  },\r\n  watch: {\r\n    $route(to, from) {\r\n      this.init();\r\n    },\r\n  },\r\n  methods: {\r\n    async init() {\r\n      this.page = 1;\r\n      this.isLastPage = false;\r\n      this.dataLoaded = false;\r\n      this.postList = [];\r\n\r\n      await this.listPostByCategory();\r\n      this.dataLoading();\r\n    },\r\n    // 카테고리별 포스트 목록 조회\r\n    listPostByCategory() {\r\n      let paginationDto = {\r\n        page: this.page,\r\n        pageSize: this.pageSize,\r\n      };\r\n      \r\n      return this.$http.get(`/post/${this.type}/list/${this.id}`, { params: paginationDto })\r\n        .then(res => {\r\n          res.data[0].map(d => {\r\n            d.regDate = this.$moment(d.regDate).format('YYYY.MM.DD');\r\n            this.postList.push(d);\r\n          });\r\n\r\n          this.listCnt = res.data[1];\r\n\r\n          if (this.listCnt === this.postList.length) {\r\n            this.isLastPage = true;\r\n          }\r\n        });\r\n    },\r\n    more() {\r\n      this.page++;\r\n      this.listPostByCategory();\r\n    },\r\n    // 데이타 로딩\r\n    dataLoading() {\r\n      if (0 < this.postList.length) {\r\n        this.dataLoaded = true;\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '@/assets/scss/views/archive.scss';\r\n</style>","import { render } from \"./AppCategory.vue?vue&type=template&id=59d826bf\"\nimport script from \"./AppCategory.vue?vue&type=script&lang=js\"\nexport * from \"./AppCategory.vue?vue&type=script&lang=js\"\n\nimport \"./AppCategory.vue?vue&type=style&index=0&id=59d826bf&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\dmitr\\\\Desktop\\\\p\\\\repo\\\\selosele2\\\\frontend\\\\selosele2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_4","_hoisted_5","_createElementBlock","$data","_Fragment","key","_renderList","post","i","secretYn","_createVNode","_component_router_link","to","id","_toDisplayString","title","regDate","type","onClick","$options","_component_ui_skeletor","height","name","props","String","nm","components","UiSkeletor","data","page","pageSize","listCnt","postList","isLastPage","dataLoaded","created","this","init","watch","$route","from","methods","async","listPostByCategory","dataLoading","paginationDto","$http","get","params","then","res","map","d","$moment","format","push","length","more","__exports__","render"],"sourceRoot":""}