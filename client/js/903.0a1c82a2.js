"use strict";(self["webpackChunkselosele2"]=self["webpackChunkselosele2"]||[]).push([[903],{3903:function(t,e,a){a.r(e),a.d(e,{default:function(){return w}});var s=a(3396),i=a(7139);const o=t=>((0,s.dD)("data-v-8e8e3c86"),t=t(),(0,s.Cn)(),t),g={class:"category__wrapper"},r={class:"category__title"},p={class:"category__date"},n=o((()=>(0,s._)("i",{class:"xi-ellipsis-h","aria-hidden":"true"},null,-1))),l=o((()=>(0,s._)("span",{class:"sr-only"},"더보기",-1))),h=[n,l];function d(t,e,a,o,n,l){const d=(0,s.up)("ui-skeletor"),c=(0,s.up)("router-link"),u=(0,s.up)("app-content-wrapper");return(0,s.wg)(),(0,s.j4)(u,{pageTitle:n.pageTitle},{default:(0,s.w5)((()=>[(0,s._)("div",g,[n.dataLoaded?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.postList,((t,e)=>((0,s.wg)(),(0,s.iD)("li",{key:e,class:(0,i.C_)(["category__item","Y"===t.secretYn&&"category__item--secret"])},[(0,s.Wm)(c,{to:`/post/${t.id}`},{default:(0,s.w5)((()=>[(0,s._)("strong",r,(0,i.zw)(t.title),1),(0,s._)("span",p,(0,i.zw)(t.regDate),1)])),_:2},1032,["to"])],2)))),128))]),n.listCnt>n.pageSize&&!n.isLastPage?((0,s.wg)(),(0,s.iD)("button",{key:0,type:"button",class:"btn--more",onClick:e[0]||(e[0]=(...t)=>l.onMore&&l.onMore(...t))},h)):(0,s.kq)("",!0)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Wm)(d,{height:"1.3rem"},null,8,["height"]),(0,s.Wm)(d,{height:"1.3rem"},null,8,["height"]),(0,s.Wm)(d,{height:"1.3rem"},null,8,["height"])],64))])])),_:1},8,["pageTitle"])}var c=a(8822),u=a(6597),y={name:"app-category",props:{pageType:String,id:String},data(){return{pageTitle:"",page:1,pageSize:20,listCnt:0,postList:[],isLastPage:!1,dataLoaded:!1}},created(){this.init()},watch:{"$route.params.id"(t){this.init()}},methods:{async init(){this.page=1,this.isLastPage=!1,this.dataLoaded=!1,this.postList=[],await this.listPostByCategory(),this.dataLoading()},listPostByCategory(){let t={page:this.page,pageSize:this.pageSize},e={};return this.$http.get(`/post/${this.getApiUri()}/${this.id}`,{params:t}).then((t=>{t.data[0].map((t=>{e.type=(0,c.UE)(t.postCategory)?"카테고리":"태그",e.nm=(0,c.UE)(t.postCategory)?t.postCategory[0].category.nm:t.postTag[0].tag.nm,t.regDate=this.$moment(t.regDate).format("YYYY.MM.DD"),this.postList.push(t)})),this.listCnt=t.data[1],this.listCnt===this.postList.length&&(this.isLastPage=!0),this.pageTitle=`'${e.nm}' ${e.type}의 글`,u.a.setPageTitle(this.pageTitle)}))},onMore(){this.page++,this.listPostByCategory()},getApiUri(){return"D01004"===this.pageType?"category":"D01005"===this.pageType?"tag":""},dataLoading(){0<this.postList.length&&(this.dataLoaded=!0)}}},m=a(89);const _=(0,m.Z)(y,[["render",d],["__scopeId","data-v-8e8e3c86"]]);var w=_}}]);
//# sourceMappingURL=903.0a1c82a2.js.map