"use strict";(self["webpackChunkselosele2"]=self["webpackChunkselosele2"]||[]).push([[342],{5371:function(t,i,a){a.r(i),a.d(i,{default:function(){return st}});var s=a(3396);function e(t,i,a,e,n,o){const l=(0,s.up)("ui-loading"),p=(0,s.up)("ui-pagination"),r=(0,s.up)("app-post-list"),g=(0,s.up)("app-widget-config"),d=(0,s.up)("app-content-wrapper");return(0,s.wg)(),(0,s.j4)(d,{pageTitle:n.pageTitle},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{activeModel:!n.dataLoaded,fullPage:!0},null,8,["activeModel"]),n.dataLoaded?((0,s.wg)(),(0,s.j4)(r,{key:0,type:"main",page:n.page,postList:n.pagingPostList},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{value:n.postList,total:n.listCnt,first:n.page,rows:5,size:10,onOnPage:o.onPage},null,8,["value","total","first","onOnPage"])])),_:1},8,["page","postList"])):(0,s.kq)("",!0),t.isLogin?((0,s.wg)(),(0,s.j4)(g,{key:1})):(0,s.kq)("",!0)])),_:1},8,["pageTitle"])}var n=a(6880),o=a(7139);const l=t=>((0,s.dD)("data-v-e6372dea"),t=t(),(0,s.Cn)(),t),p={class:"pagination"},r={class:"pagination__list pagination__list--first"},g=l((()=>(0,s._)("i",{class:"xi-step-backward","aria-hidden":"true"},null,-1))),d=l((()=>(0,s._)("span",{class:"sr-only"},"첫 번째 페이지",-1))),u=[g,d],c={class:"pagination__list pagination__list--prev"},h=l((()=>(0,s._)("i",{class:"xi-angle-left","aria-hidden":"true"},null,-1))),_=l((()=>(0,s._)("span",{class:"sr-only"},"이전 페이지",-1))),b=[h,_],k=["title","onClick"],L={class:"pagination__list pagination__list--next"},m=l((()=>(0,s._)("i",{class:"xi-angle-right","aria-hidden":"true"},null,-1))),w=l((()=>(0,s._)("span",{class:"sr-only"},"다음 페이지",-1))),v=[m,w],f={class:"pagination__list pagination__list--last"},P=l((()=>(0,s._)("i",{class:"xi-step-forward","aria-hidden":"true"},null,-1))),C=l((()=>(0,s._)("span",{class:"sr-only"},"마지막 페이지",-1))),y=[P,C];function T(t,i,a,e,n,l){return(0,s.wg)(),(0,s.iD)("nav",p,[(0,s._)("ul",null,[(0,s._)("li",r,[(0,s._)("span",{class:(0,o.C_)(["link",{"link--disabled":l.page<=1}]),onClick:i[0]||(i[0]=t=>l.onPage(1))},u,2)]),(0,s._)("li",c,[(0,s._)("span",{class:(0,o.C_)(["link",{"link--disabled":l.page<=1}]),onClick:i[1]||(i[1]=t=>l.onPage(l.page-1))},b,2)]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.pages,((t,i)=>((0,s.wg)(),(0,s.iD)("li",{key:i,class:(0,o.C_)(["pagination__list","pagination__list--num",{"pagination__list--active":l.page===t}])},[(0,s._)("span",{title:""+(l.page===t?"현재 페이지":""),class:"link",onClick:i=>l.onPage(t)},(0,o.zw)(t),9,k)],2)))),128)),(0,s._)("li",L,[(0,s._)("span",{class:(0,o.C_)(["link",{"link--disabled":l.page>=l.paginationTotal}]),onClick:i[2]||(i[2]=t=>l.onPage(l.page+1))},v,2)]),(0,s._)("li",f,[(0,s._)("span",{class:(0,o.C_)(["link",{"link--disabled":l.page>=l.paginationTotal}]),onClick:i[3]||(i[3]=t=>l.onPage(l.paginationTotal))},y,2)])])])}var S={name:"ui-pagination",props:{value:Array,total:Number,first:{type:Number,default:1},rows:{type:Number,default:10},size:{type:Number,default:5}},data(){return{pageNum:this.first}},created(){this.onPage(this.page)},computed:{page:{get(){return this.pageNum},set(t){this.pageNum=t}},pages(){let t=[];for(let i=this.paginationStart;i<=this.paginationEnd;i++)t.push(i);return t},paginationSkip(){return(this.page-1)*this.rows},paginationRows(){return Math.ceil(this.paginationSkip/this.rows)*this.rows+this.rows},paginationStart(){const t=parseInt(this.page/this.size-1)*this.size+1;return this.page>=this.size?this.size-1:t},paginationEnd(){const t=parseInt(this.page/this.size)*this.size+this.size;return t<=this.paginationTotal?t:this.paginationTotal},paginationTotal(){return Math.ceil(this.total/this.rows)}},methods:{onPage(t){this.page=t;let i=this.value.slice(this.paginationSkip,this.paginationRows);0!==i.length?this.$emit("onPage",{page:this.page,pageData:i}):this.onPage(1)}}},x=a(89);const A=(0,x.Z)(S,[["render",T],["__scopeId","data-v-e6372dea"]]);var D=A;const z=t=>((0,s.dD)("data-v-170d4f1a"),t=t(),(0,s.Cn)(),t),N={class:"post-list__wrapper"},I={key:0,class:"post__btn-wrapper"},W=z((()=>(0,s._)("i",{class:"xi-pen","aria-hidden":"true"},null,-1))),Z=(0,s.Uk)(" 포스트 작성 "),U=z((()=>(0,s._)("i",{class:"xi-trash","aria-hidden":"true"},null,-1))),O=(0,s.Uk)(" 포스트 삭제 "),$={class:"post__check-all"};function j(t,i,a,e,n,l){const p=(0,s.up)("ui-button"),r=(0,s.up)("ui-checkbox"),g=(0,s.up)("app-post-list-detail"),d=(0,s.up)("ui-form");return(0,s.wg)(),(0,s.iD)("div",N,[(0,s.Wm)(d,{name:"postListForm",onOnSubmit:l.onSubmit},{default:(0,s.w5)((()=>[t.isLogin&&"main"===a.type?((0,s.wg)(),(0,s.iD)("div",I,[(0,s.Wm)(p,{routerLink:"/write",color:"light",class:(0,o.C_)("post__btn")},{default:(0,s.w5)((()=>[W,Z])),_:1}),(0,s.Wm)(p,{type:"submit",color:"dark",class:(0,o.C_)("post__btn")},{default:(0,s.w5)((()=>[U,O])),_:1}),(0,s._)("span",$,[(0,s.Wm)(r,{name:"checkAll",id:"checkAll",label:"포스트 전체 선택",values:"Y,N",modelValue:l.checkAll,"onUpdate:modelValue":i[0]||(i[0]=t=>l.checkAll=t)},null,8,["modelValue"])])])):(0,s.kq)("",!0),(0,s.Wm)(g,{type:a.type,page:a.page,postList:a.postList,checkList:n.checkList},null,8,["type","page","postList","checkList"])])),_:1},8,["onOnSubmit"]),(0,s.WI)(t.$slots,"default",{},void 0,!0)])}var E=a(8408),M=a(8804),Y=a(1331),q={name:"app-post-list",components:{UiForm:E.Z,UiCheckbox:M.Z,AppPostListDetail:Y.Z},props:{type:String,page:Number,postList:Array},data(){return{initList:[],checkList:[]}},computed:{checkAll:{get(){return!!this.postList&&this.postList.length===this.checkList.length},set(t){this.checkList=[],"Y"===t&&this.postList.map((t=>{this.checkList.push(t.id)}))}}},methods:{onSubmit(t){}}};const F=(0,x.Z)(q,[["render",j],["__scopeId","data-v-170d4f1a"]]);var V=F;const H={class:"widget__config"},R=(0,s.uE)('<button type="button" id="widget" class="btn widget__btn widget__btn--config" data-v-607b26c3>위젯관리</button><button type="button" id="widget_save" class="btn widget__btn widget__btn--save" data-v-607b26c3>저장</button><div id="widget_use" class="widget__list" hidden="" data-v-607b26c3><h2 data-v-607b26c3>미사용 위젯</h2><input type="checkbox" name="widget_use" data-id="4" id="widget_use4" value="Y" data-v-607b26c3><label for="widget_use4" data-v-607b26c3>방문자 정보</label><input type="checkbox" name="widget_use" data-id="3" id="widget_use3" value="Y" data-v-607b26c3><label for="widget_use3" data-v-607b26c3>인기글</label></div>',3),K=[R];function B(t,i,a,e,n,o){return(0,s.wg)(),(0,s.iD)("div",H,K)}var G={name:"app-widget-config"};const J=(0,x.Z)(G,[["render",B],["__scopeId","data-v-607b26c3"]]);var Q=J,X=a(4722),tt=a(821),it={name:"app-index",components:{UiLoading:n.Z,UiPagination:D,AppPostList:V,AppWidgetConfig:Q},data(){return{pageTitle:"",page:null,listCnt:null,postList:[],pagingPostList:[],dataLoaded:!1}},async created(){if(tt.Z.setPageTitle(this.pageTitle),this.page=parseInt(this.$route.query.page)||1,!this.hasStorePostList)return await this.listPost(),void this.dataLoading();this.dataLoaded=!0,this.postList=[...this.storePostList],this.listCnt=this.storePostListCnt},computed:{storePostList(){return this.$store.state.Post.mainPostObj.postList},storePostListCnt(){return this.$store.state.Post.mainPostObj.listCnt},hasStorePostList(){return(0,X.UE)(this.storePostList)&&0<this.storePostList.length}},methods:{onPage(t){this.page=t.page,this.pagingPostList=[...t.pageData]},listPost(){return this.$http.get("/post").then((t=>{t.data[0].map((t=>{this.postList.push(t)})),this.listCnt=t.data[1],this.$store.dispatch("Post/FETCH_MAIN_POSTLIST",{postList:this.postList,listCnt:this.listCnt})}))},dataLoading(){0<this.postList.length&&(this.dataLoaded=!0)}}};const at=(0,x.Z)(it,[["render",e]]);var st=at}}]);
//# sourceMappingURL=342.42b60111.js.map