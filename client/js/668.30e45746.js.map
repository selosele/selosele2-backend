{"version":3,"file":"js/668.30e45746.js","mappings":"8LAESA,MAAM,qB,GACLA,MAAM,kB,GAMMA,MAAM,mB,GACRA,MAAM,kB,yIATxBC,EAAAA,EAAAA,IAsBsBC,EAAA,M,kBArBpB,IAoBM,EApBNC,EAAAA,EAAAA,GAoBM,MApBN,EAoBM,EAnBJA,EAAAA,EAAAA,GAWK,KAXL,EAWK,gBAVHC,EAAAA,EAAAA,IASWC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IATkBC,EAAAA,UAAQ,CAAnBC,EAAKC,M,WACrBL,EAAAA,EAAAA,IAOK,M,IARsCK,EACtCT,OAAK,gCAAwDQ,EAAKE,UAAQ,4BAA/E,EAGEC,EAAAA,EAAAA,IAGcC,EAAA,CAHAC,GAAE,SAAWL,EAAKM,MAAhC,C,kBACE,IAAyD,EAAzDX,EAAAA,EAAAA,GAAyD,SAAzD,GAAyDY,EAAAA,EAAAA,IAAtBP,EAAKQ,OAAK,IAC7Cb,EAAAA,EAAAA,GAAsD,OAAtD,GAAsDY,EAAAA,EAAAA,IAAtBP,EAAKS,SAAO,M,KAF9C,cAHF,MADF,QAgBoBV,EAAAA,QAAUA,EAAAA,WAAaA,EAAAA,aAAAA,EAAAA,EAAAA,OAJ7CN,EAAAA,EAAAA,IAKiBiB,EAAA,C,MALAC,KAAM,gBACNC,KAAM,MACNpB,OAAK,QAAE,aACPqB,QAAOC,EAAAA,QAHxB,0C,oBAaN,GACEC,KAAM,eACNC,MAAO,CACLC,SAAUC,OACVZ,GAAIY,QAENC,IAAAA,GACE,MAAO,CACLC,UAAW,GACXC,KAAM,EACNC,SAAU,GACVC,QAAS,EACTC,SAAU,GACVC,YAAY,EAEf,EACDC,OAAAA,GACEC,KAAKC,MACN,EACDC,MAAO,CACL,mBAAmBvB,GACjBqB,KAAKC,MACP,GAEFE,QAAS,CAEP,UAAMF,GACJD,KAAKN,KAAO,EACZM,KAAKF,YAAa,EAClBE,KAAKH,SAAW,SAEVG,KAAKI,oBACZ,EAEDA,kBAAAA,GACE,IAAIC,EAAgB,CAClBX,KAAMM,KAAKN,KACXC,SAAUK,KAAKL,UAGbW,EAAW,CAAC,EAEhB,OAAON,KAAKO,MAAMC,IAAK,GAAER,KAAKS,eAAeT,KAAKrB,KAAM,CAAE+B,OAAQL,IACjEM,MAAKC,IACJA,EAAKpB,KAAK,GAAGqB,KAAIC,IACfR,EAASS,MAAOC,EAAAA,EAAAA,IAAWF,EAAEG,cAAgB,OAAS,KACtDX,EAASY,IAAKF,EAAAA,EAAAA,IAAWF,EAAEG,cAAgBH,EAAEG,aAAa,GAAGX,SAASY,GAAKJ,EAAEK,QAAQ,GAAGC,IAAIF,GAC5FJ,EAAEhC,QAAUkB,KAAKqB,QAAQP,EAAEhC,SAASwC,OAAO,cAE3CtB,KAAKH,SAAS0B,KAAKT,EAAnB,IAGFd,KAAKJ,QAAUgB,EAAKpB,KAAK,GAErBQ,KAAKJ,UAAYI,KAAKH,SAAS2B,SACjCxB,KAAKF,YAAa,GAIpBE,KAAKP,UAAa,IAAGa,EAASY,OAAOZ,EAASS,UAC9Cf,KAAKyB,OAAOC,SAAS,8BAA+B1B,KAAKP,UAAzD,GAEH,EAEDkC,MAAAA,GACE3B,KAAKN,OACLM,KAAKI,oBACN,EAEDK,SAAAA,GACE,MAAI,WAAaT,KAAKV,SACb,iBACE,WAAaU,KAAKV,SACpB,YAGF,EACR,I,QCnGL,MAAMsC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://selosele2/./src/views/AppCategory.vue","webpack://selosele2/./src/views/AppCategory.vue?05f4"],"sourcesContent":["<template>\r\n  <app-content-wrapper>\r\n    <div class=\"category__wrapper\">\r\n      <ul class=\"category__list\">\r\n        <template v-for=\"(post,i) in postList\" :key=\"i\">\r\n          <li :class=\"[\r\n            'category__item',\r\n            'Y' === post.secretYn && 'category__item--secret']\">\r\n            <router-link :to=\"`/post/${post.id}`\">\r\n              <strong class=\"category__title\">{{ post.title }}</strong>\r\n              <span class=\"category__date\">{{ post.regDate }}</span>\r\n            </router-link>\r\n          </li>\r\n        </template>\r\n      </ul>\r\n\r\n      <ui-icon-button :icon=\"'xi-ellipsis-h'\"\r\n                      :text=\"'더보기'\"\r\n                      :class=\"'btn--more'\"\r\n                      @click=\"onMore\"\r\n                      v-if=\"listCnt > pageSize && !isLastPage\">\r\n      </ui-icon-button>\r\n    </div>\r\n  </app-content-wrapper>\r\n</template>\r\n\r\n<script>\r\nimport { isNotEmpty } from '@/utils';\r\n\r\nexport default {\r\n  name: 'app-category',\r\n  props: {\r\n    pageType: String,\r\n    id: String,\r\n  },\r\n  data() {\r\n    return {\r\n      pageTitle: '',\r\n      page: 1,\r\n      pageSize: 20,\r\n      listCnt: 0,\r\n      postList: [],\r\n      isLastPage: false,\r\n    }\r\n  },\r\n  created() {\r\n    this.init();\r\n  },\r\n  watch: {\r\n    '$route.params.id'(id) {\r\n      this.init();\r\n    }\r\n  },\r\n  methods: {\r\n    /** 초기 세팅 */\r\n    async init() {\r\n      this.page = 1;\r\n      this.isLastPage = false;\r\n      this.postList = [];\r\n\r\n      await this.listPostByCategory();\r\n    },\r\n    /** 카테고리별 포스트 목록 조회 */\r\n    listPostByCategory() {\r\n      let paginationDto = {\r\n        page: this.page,\r\n        pageSize: this.pageSize,\r\n      };\r\n      \r\n      let category = {};\r\n\r\n      return this.$http.get(`${this.getApiUri()}/${this.id}`, { params: paginationDto })\r\n      .then(resp => {\r\n        resp.data[0].map(d => {\r\n          category.type = isNotEmpty(d.postCategory) ? '카테고리' : '태그';\r\n          category.nm = isNotEmpty(d.postCategory) ? d.postCategory[0].category.nm : d.postTag[0].tag.nm;\r\n          d.regDate = this.$moment(d.regDate).format('YYYY.MM.DD');\r\n          \r\n          this.postList.push(d);\r\n        });\r\n\r\n        this.listCnt = resp.data[1];\r\n\r\n        if (this.listCnt === this.postList.length) {\r\n          this.isLastPage = true;\r\n        }\r\n\r\n        // 페이지 타이틀 세팅\r\n        this.pageTitle = `'${category.nm}' ${category.type}의 글`;\r\n        this.$store.dispatch('Breadcrumb/FETCH_PAGE_TITLE', this.pageTitle);\r\n      });\r\n    },\r\n    /** 더보기 */\r\n    onMore() {\r\n      this.page++;\r\n      this.listPostByCategory();\r\n    },\r\n    /** 페이지 유형에 따른 API 호출 URI 얻기 */\r\n    getApiUri() {\r\n      if ('D01004' === this.pageType) {\r\n        return '/post/category';\r\n      } else if ('D01005' === this.pageType) {\r\n        return '/post/tag';\r\n      }\r\n\r\n      return '';\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/assets/scss/views/archive.scss';\r\n</style>","import { render } from \"./AppCategory.vue?vue&type=template&id=33e452da&scoped=true\"\nimport script from \"./AppCategory.vue?vue&type=script&lang=js\"\nexport * from \"./AppCategory.vue?vue&type=script&lang=js\"\n\nimport \"./AppCategory.vue?vue&type=style&index=0&id=33e452da&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\dmitr\\\\Desktop\\\\p\\\\repo\\\\selosele2\\\\frontend\\\\selosele2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-33e452da\"]])\n\nexport default __exports__"],"names":["class","_createBlock","_component_app_content_wrapper","_createElementVNode","_createElementBlock","_Fragment","_renderList","$data","post","i","secretYn","_createVNode","_component_router_link","to","id","_toDisplayString","title","regDate","_component_ui_icon_button","icon","text","onClick","$options","name","props","pageType","String","data","pageTitle","page","pageSize","listCnt","postList","isLastPage","created","this","init","watch","methods","listPostByCategory","paginationDto","category","$http","get","getApiUri","params","then","resp","map","d","type","isNotEmpty","postCategory","nm","postTag","tag","$moment","format","push","length","$store","dispatch","onMore","__exports__","render"],"sourceRoot":""}