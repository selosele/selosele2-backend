"use strict";(self["webpackChunkselosele2"]=self["webpackChunkselosele2"]||[]).push([[964],{1964:function(e,t,s){s.r(t),s.d(t,{default:function(){return p}});var a=s(3396),o=s(7139),r=s(9242);const n={class:"login__wrapper"},u={class:"login__inner"};function l(e,t,s,l,i,c){const d=(0,a.up)("ui-text-field"),m=(0,a.up)("ui-button"),p=(0,a.up)("ui-form"),h=(0,a.up)("app-content-wrapper");return(0,a.wg)(),(0,a.j4)(h,null,{default:(0,a.w5)((()=>[(0,a._)("div",n,[(0,a._)("div",u,[(0,a.Wm)(p,{autocomplete:"off",class:(0,o.C_)("login__frm"),name:"loginForm",ref:"loginForm",onOnsubmit:c.onSubmit,onCopy:t[2]||(t[2]=(0,r.iM)((()=>{}),["prevent"])),onPaste:t[3]||(t[3]=(0,r.iM)((()=>{}),["prevent"]))},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{name:"userId",title:"아이디 입력",placeholder:"아이디",rules:"required|max:10",modelValue:i.userId,"onUpdate:modelValue":t[0]||(t[0]=e=>i.userId=e)},null,8,["modelValue"]),(0,a.Wm)(d,{type:"password",name:"userPw",title:"비밀번호 입력",placeholder:"비밀번호",rules:"required|min:8|max:15",modelValue:i.userPw,"onUpdate:modelValue":t[1]||(t[1]=e=>i.userPw=e)},null,8,["modelValue"]),(0,a.Wm)(m,{type:"submit",color:"primary",text:"로그인",block:!0,class:(0,o.C_)("mt--15")}),e.isDevelopment?((0,a.wg)(),(0,a.j4)(m,{key:0,color:"secondary",class:(0,o.C_)("mt--15"),text:"사용자 생성",block:!0,onClick:c.addUser},null,8,["onClick"])):(0,a.kq)("",!0)])),_:1},8,["onOnsubmit"])])])])),_:1})}var i=s(8822),c={name:"AppLogin",data(){return{userId:"",userPw:""}},created(){this.$store.dispatch("Breadcrumb/FETCH_PAGE_TITLE","로그인")},methods:{async onSubmit(e){const{data:t}=await this.$http.post("/auth/signin",e),s=t?.accessToken;if(s){this.$http.defaults.headers.common["Authorization"]=`Bearer ${s}`;const e=await this.$store.dispatch("Auth/LOGIN",s);"ok"===e&&this.$router.push("/")}},async addUser(){const e={userId:this.userId,userPw:this.userPw,roleId:""},t=await this.validationCheck();if(!t)return;const s=await i.wW.confirmSuccess("사용자를 생성하시겠습니까?");s&&this.$http.post("/auth/user",e).then((e=>{i.wW.toastSuccess("사용자가 생성되었습니다.")}))},async validationCheck(){const e=await this.$refs["loginForm"].validateAll();return e.valid}}},d=s(89);const m=(0,d.Z)(c,[["render",l],["__scopeId","data-v-7f677103"]]);var p=m}}]);