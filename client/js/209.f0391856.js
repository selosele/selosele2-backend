"use strict";(self["webpackChunkselosele2"]=self["webpackChunkselosele2"]||[]).push([[209],{4209:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var i=a(3396);const d={class:"d-flex justify-content--right gap--10 mb--15"},o=(0,i.Uk)("추가 "),n=(0,i.Uk)("삭제 ");function r(e,t,a,r,l,s){const h=(0,i.up)("ui-skeletor"),u=(0,i.up)("ui-button"),c=(0,i.up)("ui-grid"),g=(0,i.up)("app-content-wrapper");return(0,i.wg)(),(0,i.j4)(g,{pageTitle:l.pageTitle},{default:(0,i.w5)((()=>[l.dataLoaded?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i._)("div",d,[(0,i.Wm)(u,{type:"button",color:"primary",onClick:s.addCode},{default:(0,i.w5)((()=>[o])),_:1},8,["onClick"]),(0,i.Wm)(u,{type:"button",color:"dark",onClick:s.removeCode},{default:(0,i.w5)((()=>[n])),_:1},8,["onClick"])]),(0,i.Wm)(c,{defaultColDef:l.defaultColDef,columnDefs:l.columnDefs,rowData:l.rowData,checkboxIndex:0,pagination:!0,onOnGridReady:s.onGridReady},null,8,["defaultColDef","columnDefs","rowData","onOnGridReady"])],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Wm)(h,{height:"1.3rem"},null,8,["height"]),(0,i.Wm)(h,{height:"1.3rem"},null,8,["height"]),(0,i.Wm)(h,{height:"1.3rem"},null,8,["height"])],64))])),_:1},8,["pageTitle"])}var l=a(3210),s=a(8185),h=a(1197),u=a(6597),c={name:"app-code",components:{UiSkeletor:l.Z,UiGrid:s.Z},data(){return{pageTitle:"공통코드 관리",defaultColDef:{editable:!0},columnDefs:[{},{headerName:"코드 ID",field:"id",width:130},{headerName:"코드 접두어",field:"prefix",width:130},{headerName:"코드 값",field:"val",width:130},{headerName:"코드 명",field:"nm"},{headerName:"코드 설명",field:"desc"},{headerName:"코드 등록일시",field:"regDate"},{headerName:"코드 사용여부",field:"useYn",width:150,align:"center"}],rowData:[],gridApi:null,dataLoaded:!1}},async created(){u.Z.setPageTitle(this.pageTitle),await this.listCode(),this.dataLoading()},methods:{onGridReady(e){this.gridApi=e},listCode(){return this.$http.get("/code").then((e=>{e.data.map((e=>{e.regDate=this.$moment(e.regDate).format("YYYY-MM-DD HH:mm:ss"),e.useYn=this.getUseYn(e.useYn),this.rowData.push(e)})),this.dataLoading()}))},addCode(){console.log(this.gridApi.getRowDatas())},async removeCode(){const e=this.gridApi.getSelectedRows();if(0===e.length)return void h.Z.toastWarning("삭제할 항목을 선택하세요.");const t=await h.Z.confirmQuestion("삭제하시겠습니까?");if(!t)return;let a=[];e.forEach(((e,t)=>{a.push({id:e.id})})),this.$http.delete("/code",{data:a}).then((e=>{this.gridApi.removeSelectedRows(),h.Z.toastSuccess("삭제되었습니다.")}))},getUseYn(e){switch(e){case"Y":return"사용";case"N":return"미사용"}},dataLoading(){0<this.rowData.length&&(this.dataLoaded=!0)}}},g=a(89);const f=(0,g.Z)(c,[["render",r]]);var m=f}}]);
//# sourceMappingURL=209.f0391856.js.map