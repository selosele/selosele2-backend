{"version":3,"file":"js/523.80ef7add.js","mappings":"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","sources":["webpack://selosele2/./src/views/AppAdminMenu.vue","webpack://selosele2/./src/components/views/menu/AppSaveMenu.vue","webpack://selosele2/./src/components/views/menu/AppSaveMenu.vue?beea","webpack://selosele2/./src/views/AppAdminMenu.vue?1d1f"],"sourcesContent":["<template>\r\n  <app-content-wrapper>\r\n    <ui-split-pane>\r\n      <ui-pane :isTransparent=\"true\">\r\n        <ui-tree :nodes=\"menuTree\"\r\n                 :useCheckbox=\"false\"\r\n                 :filter=\"true\"\r\n                 :placeholder=\"'메뉴명 입력'\"\r\n                 @nodeClick=\"onNodeClick\">\r\n\r\n          <template v-slot:btn>\r\n            <ui-button :color=\"'primary'\"\r\n                       @click=\"addMenu\">추가\r\n            </ui-button>\r\n          </template>\r\n        </ui-tree>\r\n      </ui-pane>\r\n\r\n      <ui-pane v-if=\"isSplitterActive\">\r\n        <app-save-menu :menu=\"menu\"\r\n                       :parentMenuList=\"parentMenuList\"\r\n                       :key=\"menu.id\"\r\n                       @refreshMenu=\"refreshTree\">\r\n        </app-save-menu>\r\n      </ui-pane>\r\n    </ui-split-pane>\r\n  </app-content-wrapper>\r\n</template>\r\n\r\n<script>\r\nimport AppSaveMenu from '@/components/views/menu/AppSaveMenu.vue';\r\n\r\nexport default {\r\n  name: 'app-admin-menu',\r\n  components: {\r\n    AppSaveMenu,\r\n  },\r\n  data() {\r\n    return {\r\n      menuTree: [],\r\n      menu: {},\r\n      parentMenuList: [],\r\n    }\r\n  },\r\n  created() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    /** 초기 세팅 */\r\n    async init() {\r\n      \r\n      // 페이지 타이틀 세팅\r\n      this.$store.dispatch('Breadcrumb/FETCH_PAGE_TITLE', '메뉴 관리');\r\n\r\n      await this.listMenuTree();\r\n\r\n      this.$store.commit('Splitter/TOGGLE', true);\r\n    },\r\n    /** 메뉴 계층형 구조 조회 */\r\n    listMenuTree() {\r\n      return this.$http.get('/menu/list/tree')\r\n      .then(resp => {\r\n        this.createTree(resp.data);\r\n        this.parentMenuList = this.listParentMenu(this.$store.state.Menu.data, []);\r\n      });\r\n    },\r\n    /** 트리 생성 */\r\n    createTree(data) {\r\n      data.forEach(parent => {\r\n\r\n        /** 최상위 node */\r\n        let rootNode = {\r\n          id: parent.id,\r\n          label: parent.name,\r\n          sort: parent.sort,\r\n          nodes: parent.children.map((child, idx, self) => {\r\n            if (0 === self.length) return {};\r\n\r\n            // 자식(포스트) node를 반환\r\n            return {\r\n              id: child.id,\r\n              label: child.name,\r\n              sort: child.sort,\r\n            };\r\n          }),\r\n        };\r\n\r\n        // node를 배열에 넣는다.\r\n        this.menuTree.push(rootNode);\r\n      });\r\n    },\r\n    /** node 클릭 시 */\r\n    async onNodeClick(node) {\r\n      this.$store.commit('Splitter/TOGGLE', true);\r\n\r\n      // 똑같은 node를 여러 번 클릭해서 API가 호출되는 것을 막기 위해, node.id와 menu.id가 다를 때만 API를 호출한다.\r\n      if (node.id !== this.menu?.id) {\r\n        await this.getMenu(node);\r\n      }\r\n    },\r\n    /** 트리 갱신 */\r\n    async refreshTree() {\r\n      this.resetMenu();\r\n      this.menuTree = [];\r\n\r\n      await this.listMenuTree();\r\n    },\r\n    /** 메뉴 조회 */\r\n    getMenu(node) {\r\n      this.$store.commit('Loading/SET_USE_LOADING', false);\r\n\r\n      return this.$http.get(`/menu/${node.id}`)\r\n      .then(resp => {\r\n        this.menu = { ...resp.data };\r\n        this.parentMenuList = this.listParentMenu(this.$store.state.Menu.data, [])\r\n          .filter(d => d.value !== this.menu.id);\r\n\r\n        this.menu.regDate = this.$moment(this.menu.regDate).format('YYYY-MM-DD HH:mm:ss');\r\n        this.$store.commit('Loading/SET_USE_LOADING', true);\r\n      });\r\n    },\r\n    /** 조회된 메뉴를 제외한 메뉴 목록 조회 */\r\n    listParentMenu(nodes, arr) {\r\n      return nodes.map(d => {\r\n        return {\r\n          value: d.id,\r\n          text: d.name,\r\n        };\r\n      });\r\n      \r\n      // 2022.12.31. 최대 2depth로 제한해야 해서, 아래 로직이 의미가 없음. 추후 depth 확장 고려해서 주석처리\r\n      // if (!nodes) return [];\r\n      // if (!arr) arr = [];\r\n\r\n      // for (const node of nodes) {\r\n      //   arr.push({\r\n      //     value: node.id,\r\n      //     text: node.name,\r\n      //   });\r\n\r\n      //   this.listParentMenu(node.children, arr);\r\n      // }\r\n\r\n      // return arr;\r\n    },\r\n    /** 메뉴 등록 */\r\n    addMenu() {\r\n      this.resetMenu();\r\n    },\r\n    /** 메뉴 초기화 */\r\n    resetMenu() {\r\n      this.menu = {};\r\n      this.menu.id = null;\r\n      this.menu.parentId = 0;\r\n      this.menu.depth = 1;\r\n      this.parentMenuList = this.listParentMenu(this.$store.state.Menu.data, []);\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>","<template>\r\n  <ui-split-form :name=\"'saveMenuForm'\" ref=\"saveMenuForm\"\r\n                 :btnRemove=\"true\"\r\n                 @onsubmit=\"onSubmit\"\r\n                 @remove=\"onRemove\"\r\n  >\r\n    <ui-hidden-field :name=\"'id'\"\r\n                     :ref=\"'menuId'\"\r\n                     :value=\"menu.id\"\r\n    />\r\n\r\n    <ui-hidden-field :name=\"'depth'\"\r\n                     :ref=\"'menuDepth'\"\r\n                     :value=\"menu.depth || 1\"\r\n    />\r\n\r\n    <ui-select :name=\"'parentId'\"\r\n               :id=\"'menuParentId'\"\r\n               :title=\"'부모 메뉴'\"\r\n               :label=\"'부모 메뉴'\"\r\n               :defaultValue=\"'부모 메뉴 선택'\"\r\n               :data=\"parentMenuList\"\r\n               :block=\"true\"\r\n               v-model=\"parentId\"\r\n               @onchange=\"updateDepth\">\r\n    </ui-select>\r\n\r\n    <ui-text-field :type=\"'text'\"\r\n                   :name=\"'name'\"\r\n                   :id=\"'menuName'\"\r\n                   :label=\"'메뉴 명'\"\r\n                   :rules=\"'required|max:50'\"\r\n                   :block=\"true\"\r\n                   :value=\"menu.name\">\r\n    </ui-text-field>\r\n\r\n    <ui-text-field :type=\"'text'\"\r\n                   :name=\"'link'\"\r\n                   :id=\"'menuLink'\"\r\n                   :label=\"'메뉴 링크'\"\r\n                   :rules=\"'required|max:255'\"\r\n                   :block=\"true\"\r\n                   :value=\"menu.link\">\r\n    </ui-text-field>\r\n\r\n    <ui-text-field :type=\"'text'\"\r\n                   :name=\"'regDate'\"\r\n                   :id=\"'menuRegDate'\"\r\n                   :label=\"'메뉴 등록일시'\"\r\n                   :readonly=\"true\"\r\n                   :block=\"true\"\r\n                   :value=\"menu.regDate\">\r\n    </ui-text-field>\r\n\r\n    <ui-numeric-field :name=\"'sort'\"\r\n                      :id=\"'menuSort'\"\r\n                      :label=\"'메뉴 정렬 순서'\"\r\n                      :rules=\"'required|numeric'\"\r\n                      :block=\"true\"\r\n                      :value=\"menu.sort || 1\">\r\n    </ui-numeric-field>\r\n\r\n    <ui-select :name=\"'role'\"\r\n               :id=\"'menuRoles'\"\r\n               :title=\"'메뉴 권한'\"\r\n               :label=\"'메뉴 권한'\"\r\n               :block=\"true\"\r\n               :data=\"roleList\"\r\n               v-model=\"role\">\r\n    </ui-select>\r\n\r\n    <ui-radio-group :label=\"'메뉴 사용 여부'\">\r\n      <ui-radio :id=\"'menuUseYn1'\"\r\n                :name=\"'useYn'\"\r\n                :label=\"'사용'\"\r\n                :value=\"'Y'\"\r\n                :rules=\"'required'\"\r\n                v-model=\"useYn\">\r\n      </ui-radio>\r\n      <ui-radio :id=\"'menuUseYn2'\"\r\n                :name=\"'useYn'\"\r\n                :label=\"'미사용'\"\r\n                :value=\"'N'\"\r\n                :rules=\"'required'\"\r\n                v-model=\"useYn\">\r\n      </ui-radio>\r\n    </ui-radio-group>\r\n  </ui-split-form>\r\n</template>\r\n\r\n<script>\r\nimport { messageUtil, isEmpty, isNotEmpty } from '@/utils';\r\n\r\nexport default {\r\n  name: 'app-save-menu',\r\n  props: {\r\n    /** 메뉴 */\r\n    menu: Object,\r\n    /** 부모 메뉴 목록 */\r\n    parentMenuList: Array,\r\n  },\r\n  data() {\r\n    return {\r\n      parentId: '',\r\n      useYn: '',\r\n      role: '',\r\n      roleList: [],\r\n    }\r\n  },\r\n  async created() {\r\n    this.parentId = this.menu.parentId;\r\n    this.useYn = this.menu.useYn;\r\n\r\n    await this.listRole();\r\n\r\n    this.role = this.getMenuRoleModel();\r\n  },\r\n  methods: {\r\n    /** 메뉴 저장 */\r\n    async onSubmit(values) {\r\n      const confirm = await messageUtil.confirmSuccess('저장하시겠습니까?');\r\n      if (!confirm) return;\r\n\r\n      // 메뉴 ID 값이 없으면 등록 API를 타고\r\n      if (isEmpty(values.id)) {\r\n        await this.addMenu(values);\r\n      } else {\r\n        // 있으면 수정 API를 탄다.\r\n        await this.updateMenu(values);\r\n      }\r\n\r\n      await this.listMenu();\r\n    },\r\n    /** 메뉴 삭제 */\r\n    async onRemove(values) {\r\n      if (isEmpty(values.id)) return;\r\n\r\n      const confirm = await messageUtil.confirmSuccess('삭제하시겠습니까?');\r\n      if (!confirm) return;\r\n\r\n      this.$http.delete(`/menu/${values.id}`)\r\n      .then(async resp => {\r\n        messageUtil.toastSuccess('삭제되었습니다.');\r\n\r\n        await this.listMenu();\r\n        this.$emit('refreshMenu');\r\n      });\r\n    },\r\n    /** 메뉴 등록 */\r\n    addMenu(values) {\r\n      return this.$http.post('/menu', values)\r\n      .then(resp => {\r\n        messageUtil.toastSuccess('저장되었습니다.');\r\n\r\n        this.$refs['menuId'].$el.value = resp.data.id;\r\n        this.$emit('refreshMenu');\r\n      });\r\n    },\r\n    /** 메뉴 목록 조회 */\r\n    listMenu() {\r\n      return this.$store.dispatch('Menu/LIST_MENU', {\r\n        params: {\r\n          useYn: 'Y',\r\n        },\r\n      });\r\n    },\r\n    /** 메뉴 수정 */\r\n    updateMenu(values) {\r\n      return this.$http.put('/menu', values)\r\n      .then(resp => {\r\n        messageUtil.toastSuccess('저장되었습니다.');\r\n\r\n        this.$refs['menuId'].$el.value = resp.data.id;\r\n        this.$emit('refreshMenu');\r\n      });\r\n    },\r\n    /** 권한 목록 조회 */\r\n    listRole() {\r\n      this.$store.commit('Loading/SET_USE_LOADING', false);\r\n\r\n      return this.$http.get('/auth/role')\r\n      .then(resp => {\r\n        this.roleList = [\r\n          ...resp.data.map(d => {\r\n            return {\r\n              value: d.roleId,\r\n              text: d.roleNm,\r\n            };\r\n          })\r\n        ];\r\n        \r\n        this.roleList.push({ value: '', text: '모든 권한 허용' });\r\n        this.$store.commit('Loading/SET_USE_LOADING', true);\r\n      });\r\n    },\r\n    /** 메뉴 권한 model 얻기 */\r\n    getMenuRoleModel() {\r\n      if (isNotEmpty(this.menu.menuRole) && 0 < this.menu.menuRole.length) {\r\n        const list = this.menu.menuRole.filter(m => {\r\n          return 0 < this.roleList.filter(r => r.value === m.roleId).length;\r\n        });\r\n\r\n        return 1 < list.length ? '' : list[0].roleId;\r\n      }\r\n\r\n      return '';\r\n    },\r\n    /** 메뉴 계층 갱신 */\r\n    updateDepth(value) {\r\n      if (isEmpty(value)) {\r\n        this.$refs['saveMenuForm'].setFieldValue('depth', 1);\r\n        return;\r\n      }\r\n\r\n      this.$refs['saveMenuForm'].setFieldValue('depth', 2);\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>","import { render } from \"./AppSaveMenu.vue?vue&type=template&id=61dc299a\"\nimport script from \"./AppSaveMenu.vue?vue&type=script&lang=js\"\nexport * from \"./AppSaveMenu.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\dmitr\\\\Desktop\\\\p\\\\repo\\\\selosele2\\\\frontend\\\\selosele2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./AppAdminMenu.vue?vue&type=template&id=7e805a6a\"\nimport script from \"./AppAdminMenu.vue?vue&type=script&lang=js\"\nexport * from \"./AppAdminMenu.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\dmitr\\\\Desktop\\\\p\\\\repo\\\\selosele2\\\\frontend\\\\selosele2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_app_content_wrapper","_createVNode","_component_ui_split_pane","_component_ui_pane","isTransparent","_component_ui_tree","nodes","$data","useCheckbox","filter","placeholder","onNodeClick","$options","btn","_component_ui_button","color","onClick","_ctx","key","_component_app_save_menu","menu","parentMenuList","id","onRefreshMenu","_component_ui_split_form","name","ref","btnRemove","onOnsubmit","onRemove","_component_ui_hidden_field","value","$props","depth","_component_ui_select","title","label","defaultValue","data","block","$event","onOnchange","_component_ui_text_field","type","rules","link","readonly","regDate","_component_ui_numeric_field","sort","_component_ui_radio_group","_component_ui_radio","props","Object","Array","parentId","useYn","role","roleList","created","this","listRole","getMenuRoleModel","methods","onSubmit","values","confirm","messageUtil","confirmSuccess","isEmpty","addMenu","updateMenu","listMenu","$http","delete","then","async","toastSuccess","$emit","post","resp","$refs","$el","$store","dispatch","params","put","commit","get","map","d","roleId","text","roleNm","push","isNotEmpty","menuRole","length","list","m","r","updateDepth","setFieldValue","__exports__","components","AppSaveMenu","menuTree","init","listMenuTree","createTree","listParentMenu","state","Menu","forEach","parent","rootNode","children","child","idx","self","node","getMenu","refreshTree","resetMenu","$moment","format","arr","render"],"sourceRoot":""}