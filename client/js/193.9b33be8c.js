"use strict";(self["webpackChunkselosele2"]=self["webpackChunkselosele2"]||[]).push([[193],{4193:function(e,t,r){r.r(t),r.d(t,{default:function(){return i}});var a=r(3396);function s(e,t,r,s,n,o){const l=(0,a.up)("ui-tree"),i=(0,a.up)("app-content-wrapper");return(0,a.wg)(),(0,a.j4)(i,{pageTitle:n.pageTitle},{default:(0,a.w5)((()=>[(0,a.Wm)(l,{nodes:n.categoryTree,filter:!0,placeholder:"카테고리/포스트 제목 입력"},null,8,["nodes"]),(0,a.Wm)(l,{nodes:n.tagTree,filter:!0,placeholder:"태그/포스트 제목 입력"},null,8,["nodes"])])),_:1},8,["pageTitle"])}var n={name:"app-admin-category",data(){return{pageTitle:"카테고리/태그 관리",dataLoaded:!1,categoryTree:[],tagTree:[]}},created(){this.init()},methods:{async init(){await Promise.all([this.listTreeCategoryAndPost(),this.listTreeTagAndPost()])},listTreeCategoryAndPost(){return this.$http.get("/category/tree").then((e=>{this.createTree(e.data,"category")}))},listTreeTagAndPost(){return this.$http.get("/tag/tree").then((e=>{this.createTree(e.data,"tag")}))},createTree(e,t){e.forEach((e=>{let r=[];r="category"===t?e.postCategory:e.postTag;let a={id:e.id,label:this.getTreeLabel(e.nm,t),nodes:r.map(((e,t,r)=>{if(0===r.length)return{};let a={id:e.postId,label:e.post.title};return a}))};this.pushNode(a,t)}))},getTreeLabel(e,t){return"category"===t?e:`#${e}`},pushNode(e,t){"category"===t?this.categoryTree.push(e):this.tagTree.push(e)}}},o=r(89);const l=(0,o.Z)(n,[["render",s]]);var i=l}}]);
//# sourceMappingURL=193.9b33be8c.js.map