{"version":3,"file":"js/193.9b33be8c.js","mappings":"oRACEA,EAAAA,EAAAA,IAUsBC,EAAA,CAVAC,UAAWC,EAAAA,WAAS,C,kBACxC,IAGU,EAHVC,EAAAA,EAAAA,IAGUC,EAAA,CAHAC,MAAOH,EAAAA,aACPI,QAAQ,EACRC,YAAa,kBAFvB,mBAKAJ,EAAAA,EAAAA,IAGUC,EAAA,CAHAC,MAAOH,EAAAA,QACPI,QAAQ,EACRC,YAAa,gBAFvB,qB,KANF,gB,CAcF,OACEC,KAAM,qBACNC,OACE,MAAO,CACLR,UAAW,aACXS,YAAY,EACZC,aAAc,GACdC,QAAS,GAEZ,EACDC,UACEC,KAAKC,MACN,EACDC,QAAS,CAEPC,mBACQC,QAAQC,IAAI,CAChBL,KAAKM,0BACLN,KAAKO,sBAER,EAEDD,0BACE,OAAON,KAAKQ,MAAMC,IAAI,kBACnBC,MAAKC,IACJX,KAAKY,WAAWD,EAAIhB,KAAM,WAA1B,GAEL,EAEDY,qBACE,OAAOP,KAAKQ,MAAMC,IAAI,aACnBC,MAAKC,IACJX,KAAKY,WAAWD,EAAIhB,KAAM,MAA1B,GAEL,EAEDiB,WAAWjB,EAAMkB,GACflB,EAAKmB,SAAQC,IACX,IAAIC,EAAa,GAGfA,EADE,aAAeH,EACJE,EAAOE,aAEPF,EAAOG,QAItB,IAAIC,EAAW,CACbC,GAAIL,EAAOK,GACXC,MAAOrB,KAAKsB,aAAaP,EAAOQ,GAAIV,GACpCtB,MAAOyB,EAAWQ,KAAI,CAACC,EAAOC,EAAKC,KACjC,GAAI,IAAMA,EAAKC,OAAQ,MAAO,CAAC,EAG/B,IAAIC,EAAW,CACbT,GAAIK,EAAMK,OACVT,MAAOI,EAAMM,KAAKC,OAGpB,OAAOH,CAAP,KAKJ7B,KAAKiC,SAASd,EAAUN,EAAxB,GAEH,EAEDS,aAAaD,EAAOR,GAClB,MAAO,aAAeA,EAAOQ,EAAS,IAAGA,GAC1C,EAEDY,SAASC,EAAMrB,GACT,aAAeA,EACjBb,KAAKH,aAAasC,KAAKD,GAEvBlC,KAAKF,QAAQqC,KAAKD,EAErB,I,QCxFL,MAAME,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://selosele2/./src/views/AppAdminCategory.vue","webpack://selosele2/./src/views/AppAdminCategory.vue?bf5c"],"sourcesContent":["<template>\r\n  <app-content-wrapper :pageTitle=\"pageTitle\">\r\n    <ui-tree :nodes=\"categoryTree\"\r\n             :filter=\"true\"\r\n             :placeholder=\"'카테고리/포스트 제목 입력'\">\r\n    </ui-tree>\r\n\r\n    <ui-tree :nodes=\"tagTree\"\r\n             :filter=\"true\"\r\n             :placeholder=\"'태그/포스트 제목 입력'\">\r\n    </ui-tree>\r\n  </app-content-wrapper>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'app-admin-category',\r\n  data() {\r\n    return {\r\n      pageTitle: '카테고리/태그 관리',\r\n      dataLoaded: false,\r\n      categoryTree: [],\r\n      tagTree: [],\r\n    }\r\n  },\r\n  created() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    /** 초기 세팅 */\r\n    async init() {\r\n      await Promise.all([\r\n        this.listTreeCategoryAndPost(),\r\n        this.listTreeTagAndPost(),\r\n      ]);\r\n    },\r\n    /** 카테고리-포스트 계층형 구조 조회 */\r\n    listTreeCategoryAndPost() {\r\n      return this.$http.get('/category/tree')\r\n        .then(res => {\r\n          this.createTree(res.data, 'category');\r\n        });\r\n    },\r\n    /** 태그-포스트 계층형 구조 조회 */\r\n    listTreeTagAndPost() {\r\n      return this.$http.get('/tag/tree')\r\n        .then(res => {\r\n          this.createTree(res.data, 'tag');\r\n        });\r\n    },\r\n    /** 트리 생성 */\r\n    createTree(data, type) {\r\n      data.forEach(parent => {\r\n        let childNodes = [];\r\n\r\n        if ('category' === type) {\r\n          childNodes = parent.postCategory;\r\n        } else {\r\n          childNodes = parent.postTag;\r\n        }\r\n\r\n        // 최상위(카테고리/태그) node\r\n        let rootNode = {\r\n          id: parent.id,\r\n          label: this.getTreeLabel(parent.nm, type),\r\n          nodes: childNodes.map((child, idx, self) => {\r\n            if (0 === self.length) return {};\r\n\r\n            // 자식(포스트) node\r\n            let postNode = {\r\n              id: child.postId,\r\n              label: child.post.title,\r\n            };\r\n\r\n            return postNode;\r\n          }),\r\n        };\r\n\r\n        // node를 배열에 넣는다.\r\n        this.pushNode(rootNode, type);\r\n      });\r\n    },\r\n    /** 트리 label 가공 */\r\n    getTreeLabel(label, type) {\r\n      return 'category' === type ? label : `#${label}`;\r\n    },\r\n    /** 트리 배열에 node 넣기 */\r\n    pushNode(node, type) {\r\n      if ('category' === type) {\r\n        this.categoryTree.push(node);\r\n      } else {\r\n        this.tagTree.push(node);\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>","import { render } from \"./AppAdminCategory.vue?vue&type=template&id=363f2cce\"\nimport script from \"./AppAdminCategory.vue?vue&type=script&lang=js\"\nexport * from \"./AppAdminCategory.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\dmitr\\\\Desktop\\\\p\\\\repo\\\\selosele2\\\\frontend\\\\selosele2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_app_content_wrapper","pageTitle","$data","_createVNode","_component_ui_tree","nodes","filter","placeholder","name","data","dataLoaded","categoryTree","tagTree","created","this","init","methods","async","Promise","all","listTreeCategoryAndPost","listTreeTagAndPost","$http","get","then","res","createTree","type","forEach","parent","childNodes","postCategory","postTag","rootNode","id","label","getTreeLabel","nm","map","child","idx","self","length","postNode","postId","post","title","pushNode","node","push","__exports__","render"],"sourceRoot":""}