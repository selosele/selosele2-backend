"use strict";(self["webpackChunkselosele2"]=self["webpackChunkselosele2"]||[]).push([[569],{569:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var i=s(3396),a=s(7139);const o={class:"category__wrapper"},p={class:"category__title"},r={class:"category__date"};function n(t,e,s,n,g,l){const c=(0,i.up)("router-link"),h=(0,i.up)("ui-icon-button"),u=(0,i.up)("app-content-wrapper");return(0,i.wg)(),(0,i.j4)(u,null,{default:(0,i.w5)((()=>[(0,i._)("div",o,[(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(g.postList,((t,e)=>((0,i.wg)(),(0,i.iD)("li",{key:e,class:(0,a.C_)(["category__item","Y"===t.secretYn&&"category__item--secret"])},[(0,i.Wm)(c,{to:`/post/${t.id}`},{default:(0,i.w5)((()=>[(0,i._)("strong",p,(0,a.zw)(t.title),1),(0,i._)("span",r,(0,a.zw)(t.regDate),1)])),_:2},1032,["to"])],2)))),128))]),g.listCnt>g.pageSize&&!g.isLastPage?((0,i.wg)(),(0,i.j4)(h,{key:0,icon:"xi-ellipsis-h",text:"더보기",class:"btn--more",onClick:l.onMore},null,8,["onClick"])):(0,i.kq)("",!0)])])),_:1})}var g=s(8822),l={name:"app-category",props:{pageType:String,id:String},data(){return{pageTitle:"",page:1,pageSize:10,listCnt:0,postList:[],isLastPage:!1}},created(){this.init()},watch:{"$route.params.id"(t){this.init()}},methods:{async init(){this.page=1,this.isLastPage=!1,this.postList=[],await this.listPostByCategory()},listPostByCategory(){let t={page:this.page,pageSize:this.pageSize},e={};return this.$http.get(`${this.getApiUri()}/${this.id}`,{params:t}).then((t=>{t.data[0].map((t=>{e.type=(0,g.UE)(t.postCategory)?"카테고리":"태그",e.nm=(0,g.UE)(t.postCategory)?t.postCategory[0].category.nm:t.postTag[0].tag.nm,t.regDate=this.$moment(t.regDate).format("YYYY.MM.DD"),this.postList.push(t)})),this.listCnt=t.data[1],this.listCnt===this.postList.length&&(this.isLastPage=!0),this.pageTitle=`'${e.nm}' ${e.type}의 글`,this.$store.dispatch("Breadcrumb/FETCH_PAGE_TITLE",this.pageTitle)}))},onMore(){this.page++,this.listPostByCategory()},getApiUri(){return"D01004"===this.pageType?"/post/category":"D01005"===this.pageType?"/post/tag":""}}},c=s(89);const h=(0,c.Z)(l,[["render",n],["__scopeId","data-v-2dfb93c2"]]);var u=h}}]);
//# sourceMappingURL=569.2c227122.js.map