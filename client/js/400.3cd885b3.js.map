{"version":3,"file":"js/400.3cd885b3.js","mappings":"+LACOA,MAAM,kB,GACJA,MAAM,gB,GAWPC,EAAAA,EAAAA,GAC0D,UADlDC,KAAK,SACLF,MAAM,iCAAgC,OAAG,G,kGAbvDG,EAAAA,EAAAA,IAqBM,MArBN,EAqBM,EApBJF,EAAAA,EAAAA,GAmBM,MAnBN,EAmBM,EAlBJG,EAAAA,EAAAA,IAiBUC,EAAA,CAjBDC,aAAa,MAAON,OAAK,QAAE,cAAeO,KAAM,YAAcC,WAAUC,EAAAA,UAAjF,C,kBACE,IAEkD,EAFlDL,EAAAA,EAAAA,IAEkDM,EAAA,CAFlCR,KAAM,OAASK,KAAM,SAAWI,MAAO,SAAWC,YAAa,M,WACvDC,EAAAA,O,qCAAAA,EAAAA,OAAMC,GACdC,MAAO,yBAFvB,wBAKAX,EAAAA,EAAAA,IAEqCM,EAAA,CAFrBR,KAAM,WAAaK,KAAM,SAAWI,MAAO,UAAYC,YAAa,O,WAC5DC,EAAAA,O,qCAAAA,EAAAA,OAAMC,GACdC,MAAO,YAFvB,uBAIAC,EAMcC,EAAAA,gBAAAA,EAAAA,EAAAA,OAHdd,EAAAA,EAAAA,IAG4C,U,MAHpCD,KAAK,SACLF,MAAM,6BACLkB,QAAK,oBAAET,EAAAA,SAAAA,EAAAA,WAAAA,KACa,YAH7B,kB,KAbF,qB,6CA4BN,GACEF,KAAM,YACNY,WAAY,CACVC,OADU,IAEVC,YAAWA,EAAAA,GAEbC,OACE,MAAO,CACLC,OAAQ,GACRC,OAAQ,GAEX,EACDC,QAAS,CACPC,eAAeC,GACb,IACE,IAAIC,QAAYC,KAAKC,MAAMC,KAAK,eAAgBJ,GAChD,MAAMK,EAAQJ,EAAIN,KAAKW,YAEvB,GAAID,EAAO,CACTH,KAAKC,MAAMI,SAASC,QAAQC,OAAO,iBAAoB,UAASJ,IAChE,MAAMK,QAAiBR,KAAKS,OAAOC,SAAS,QAASP,GAEjD,OAASK,GACXR,KAAKW,QAAQC,KAAK,IAEtB,CAGF,CAFE,MAAMC,GACNC,EAAAA,EAAAA,MAAeD,EAAME,SAAStB,KAAKuB,QACrC,CACD,EACDnB,gBACE,MAAMoB,EAAO,CACXvB,OAAQM,KAAKN,OACbC,OAAQK,KAAKL,OACbuB,OAAQ,IAGV,IAAKD,EAAKvB,OAAOyB,OAEf,YADAL,EAAAA,EAAAA,QAAiB,eAGnB,IAAKG,EAAKtB,OAAOwB,OAEf,YADAL,EAAAA,EAAAA,QAAiB,gBAInB,MAAMM,QAAgBC,EAAAA,EAAAA,QAAoB,kBACrCD,GAILpB,KAAKC,MAAMC,KAAK,eAAgBe,GAC7BK,MAAKvB,IACJe,EAAAA,EAAAA,QAAiB,kBAAjB,GAEL,I,QC/EL,MAAMS,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://selosele2/./src/views/AppLogin.vue","webpack://selosele2/./src/views/AppLogin.vue?c3d1"],"sourcesContent":["<template>\r\n  <div class=\"login__wrapper\">\r\n    <div class=\"login__inner\">\r\n      <ui-form autocomplete=\"off\" :class=\"'login__frm'\" :name=\"'loginForm'\" @onSubmit=\"onSubmit\">\r\n        <ui-text-field :type=\"'text'\" :name=\"'userId'\" :title=\"'아이디 입력'\" :placeholder=\"'아이디'\" \r\n                       v-model=\"userId\" \r\n                       :rules=\"'required|maxLength:10'\" />\r\n        \r\n        <!-- 운영모드일 때 비밀번호 input에 minlength=\"8\" maxlength=\"15\" 속성 필요 -->\r\n        <ui-text-field :type=\"'password'\" :name=\"'userPw'\" :title=\"'비밀번호 입력'\" :placeholder=\"'비밀번호'\" \r\n                       v-model=\"userPw\" \r\n                       :rules=\"'required'\" />\r\n        \r\n        <button type=\"submit\"\r\n                class=\"login__btn login__btn--submit\">로그인</button>\r\n\r\n        <button type=\"button\"\r\n                class=\"login__btn login__btn--add\"\r\n                @click=\"addUser\"\r\n                v-if=\"isDevelopment\">사용자 생성</button>\r\n      </ui-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport UiForm from '@/components/shared/form/UiForm.vue';\r\nimport UiTextField from '@/components/shared/form/UiTextField.vue';\r\nimport confirmUtil from '@/utils/ui/Confirm';\r\nimport snackbar from '@/utils/ui/Snackbar';\r\n\r\nexport default {\r\n  name: 'app-login',\r\n  components: {\r\n    UiForm,\r\n    UiTextField,\r\n  },\r\n  data() {\r\n    return {\r\n      userId: '',\r\n      userPw: '',\r\n    }\r\n  },\r\n  methods: {\r\n    async onSubmit(values) {\r\n      try {\r\n        let res = await this.$http.post('/auth/signin', values);\r\n        const token = res.data.accessToken;\r\n        \r\n        if (token) {\r\n          this.$http.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n          const loginRes = await this.$store.dispatch('LOGIN', token);\r\n          \r\n          if ('ok' === loginRes) {\r\n            this.$router.push('/');\r\n          }\r\n        }\r\n      } catch(error) {\r\n        snackbar.error(error.response.data.message);\r\n      }\r\n    },\r\n    async addUser() {\r\n      const user = {\r\n        userId: this.userId,\r\n        userPw: this.userPw,\r\n        roleId: '',\r\n      };\r\n\r\n      if (!user.userId.trim()) {\r\n        snackbar.warning('아이디를 입력하세요.');\r\n        return;\r\n      }\r\n      if (!user.userPw.trim()) {\r\n        snackbar.warning('비밀번호를 입력하세요.');\r\n        return;\r\n      }\r\n\r\n      const confirm = await confirmUtil.success('사용자를 생성하시겠습니까?');\r\n      if (!confirm) {\r\n        return;\r\n      }\r\n\r\n      this.$http.post('/auth/signup', user)\r\n        .then(res => {\r\n          snackbar.success('사용자 생성에 성공했습니다.');\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '@/assets/scss/views/login.scss';\r\n</style>\r\n","import { render } from \"./AppLogin.vue?vue&type=template&id=e5d9feaa\"\nimport script from \"./AppLogin.vue?vue&type=script&lang=js\"\nexport * from \"./AppLogin.vue?vue&type=script&lang=js\"\n\nimport \"./AppLogin.vue?vue&type=style&index=0&id=e5d9feaa&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\dmitr\\\\Desktop\\\\p\\\\repo\\\\selosele2\\\\frontend\\\\selosele2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","type","_createElementBlock","_createVNode","_component_ui_form","autocomplete","name","onOnSubmit","$options","_component_ui_text_field","title","placeholder","$data","$event","rules","_hoisted_3","_ctx","onClick","components","UiForm","UiTextField","data","userId","userPw","methods","async","values","res","this","$http","post","token","accessToken","defaults","headers","common","loginRes","$store","dispatch","$router","push","error","snackbar","response","message","user","roleId","trim","confirm","confirmUtil","then","__exports__","render"],"sourceRoot":""}