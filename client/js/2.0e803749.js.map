{"version":3,"file":"js/2.0e803749.js","mappings":"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","sources":["webpack://selosele2/./src/services/breadcrumb/breadcrumbService.js","webpack://selosele2/./src/views/AppCategory.vue","webpack://selosele2/./src/views/AppCategory.vue?05f4"],"sourcesContent":["import store from '@/store';\r\nimport { isNotEmpty } from '@/utils';\r\n\r\n/** Breadcrumb Service */\r\nclass BreadcrumbService {\r\n\r\n  constructor() {\r\n  }\r\n\r\n  /** 페이지 타이틀 변경 */\r\n  setPageTitle(pageTitle) {\r\n    if (isNotEmpty(pageTitle)) {\r\n      document.title = `${pageTitle} - ${store.state.BlogConfig.data?.title}`;\r\n    } else {\r\n      document.title = store.state.BlogConfig.data?.title;\r\n    }\r\n  }\r\n  \r\n}\r\n\r\nexport const breadcrumbService = new BreadcrumbService();\r\n","<template>\r\n  <app-content-wrapper :pageTitle=\"pageTitle\">\r\n    <div class=\"category__wrapper\">\r\n      <template v-if=\"!dataLoaded\">\r\n        <ui-skeletor :height=\"'1.3rem'\"></ui-skeletor>\r\n        <ui-skeletor :height=\"'1.3rem'\"></ui-skeletor>\r\n        <ui-skeletor :height=\"'1.3rem'\"></ui-skeletor>\r\n      </template>\r\n\r\n      <template v-else>\r\n        <ul>\r\n          <template v-for=\"(post,i) in postList\" :key=\"i\">\r\n            <li :class=\"[\r\n              'category__item',\r\n              'Y' === post.secretYn && 'category__item--secret']\">\r\n              <router-link :to=\"`/post/${post.id}`\">\r\n                <strong class=\"category__title\">{{ post.title }}</strong>\r\n                <span class=\"category__date\">{{ post.regDate }}</span>\r\n              </router-link>\r\n            </li>\r\n          </template>\r\n        </ul>\r\n\r\n        <button type=\"button\"\r\n                class=\"btn--more\"\r\n                @click=\"onMore\"\r\n                v-if=\"listCnt > pageSize && !isLastPage\">\r\n          <i class=\"xi-ellipsis-h\" aria-hidden=\"true\"></i>\r\n          <span class=\"sr-only\">더보기</span>\r\n        </button>\r\n      </template>\r\n    </div>\r\n  </app-content-wrapper>\r\n</template>\r\n\r\n<script>\r\nimport { isNotEmpty } from '@/utils';\r\nimport { breadcrumbService } from '@/services/breadcrumb/breadcrumbService';\r\n\r\nexport default {\r\n  name: 'app-category',\r\n  props: {\r\n    type: String,\r\n    id: String,\r\n  },\r\n  data() {\r\n    return {\r\n      pageTitle: '',\r\n      page: 1,\r\n      pageSize: 20,\r\n      listCnt: 0,\r\n      postList: [],\r\n      isLastPage: false,\r\n      dataLoaded: false,\r\n    }\r\n  },\r\n  created() {\r\n    this.init();\r\n  },\r\n  watch: {\r\n    '$route.params.id'(id) {\r\n      this.init();\r\n    }\r\n  },\r\n  methods: {\r\n    /** 초기 세팅 */\r\n    async init() {\r\n      this.page = 1;\r\n      this.isLastPage = false;\r\n      this.dataLoaded = false;\r\n      this.postList = [];\r\n\r\n      await this.listPostByCategory();\r\n      this.dataLoading();\r\n    },\r\n    /** 카테고리별 포스트 목록 조회 */\r\n    listPostByCategory() {\r\n      let paginationDto = {\r\n        page: this.page,\r\n        pageSize: this.pageSize,\r\n      };\r\n      \r\n      let category = {};\r\n\r\n      return this.$http.get(`/post/${this.type}/${this.id}`, { params: paginationDto })\r\n      .then(res => {\r\n        res.data[0].map(d => {\r\n          category.type = isNotEmpty(d.postCategory) ? '카테고리' : '태그';\r\n          category.nm = isNotEmpty(d.postCategory) ? d.postCategory[0].category.nm : d.postTag[0].tag.nm;\r\n          d.regDate = this.$moment(d.regDate).format('YYYY.MM.DD');\r\n          this.postList.push(d);\r\n        });\r\n\r\n        this.listCnt = res.data[1];\r\n\r\n        if (this.listCnt === this.postList.length) {\r\n          this.isLastPage = true;\r\n        }\r\n\r\n        // 페이지 타이틀 세팅\r\n        this.pageTitle = `'${category.nm}' ${category.type}의 글`;\r\n        breadcrumbService.setPageTitle(this.pageTitle);\r\n      });\r\n    },\r\n    /** 더보기 */\r\n    onMore() {\r\n      this.page++;\r\n      this.listPostByCategory();\r\n    },\r\n    /** 데이타 로딩 */\r\n    dataLoading() {\r\n      if (0 < this.postList.length) {\r\n        this.dataLoaded = true;\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/assets/scss/views/archive.scss';\r\n</style>","import { render } from \"./AppCategory.vue?vue&type=template&id=4066dc25&scoped=true\"\nimport script from \"./AppCategory.vue?vue&type=script&lang=js\"\nexport * from \"./AppCategory.vue?vue&type=script&lang=js\"\n\nimport \"./AppCategory.vue?vue&type=style&index=0&id=4066dc25&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\dmitr\\\\Desktop\\\\p\\\\repo\\\\selosele2\\\\frontend\\\\selosele2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4066dc25\"]])\n\nexport default __exports__"],"names":["BreadcrumbService","constructor","setPageTitle","pageTitle","isNotEmpty","document","title","store","breadcrumbService","class","_createElementVNode","_hoisted_4","_hoisted_5","_createBlock","_component_app_content_wrapper","$data","_createElementBlock","_Fragment","key","_renderList","post","i","secretYn","_createVNode","_component_router_link","to","id","_toDisplayString","regDate","type","onClick","$options","_component_ui_skeletor","height","name","props","String","data","page","pageSize","listCnt","postList","isLastPage","dataLoaded","created","this","init","watch","methods","async","listPostByCategory","dataLoading","paginationDto","category","$http","get","params","then","res","map","d","postCategory","nm","postTag","tag","$moment","format","push","length","onMore","__exports__","render"],"sourceRoot":""}