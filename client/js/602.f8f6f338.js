"use strict";(self["webpackChunkselosele2"]=self["webpackChunkselosele2"]||[]).push([[602],{4602:function(t,e,s){s.r(e),s.d(e,{default:function(){return y}});var i=s(3396),a=s(7139);const o={class:"category__wrapper"},r={class:"category__title"},n={class:"category__date"},l=(0,i._)("i",{class:"xi-ellipsis-h","aria-hidden":"true"},null,-1),g=(0,i._)("span",{class:"sr-only"},"더보기",-1),h=[l,g];function p(t,e,s,l,g,p){const d=(0,i.up)("ui-skeletor"),c=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",o,[g.dataLoaded?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(g.postList,((t,e)=>((0,i.wg)(),(0,i.iD)("li",{key:e,class:(0,a.C_)(["category__item","Y"===t.secretYn&&"category__item--secret"])},[(0,i.Wm)(c,{to:`/post/${t.id}`},{default:(0,i.w5)((()=>[(0,i._)("strong",r,(0,a.zw)(t.title),1),(0,i._)("span",n,(0,a.zw)(t.regDate),1)])),_:2},1032,["to"])],2)))),128))]),g.listCnt>g.pageSize&&!g.isLastPage?((0,i.wg)(),(0,i.iD)("button",{key:0,type:"button",class:"btn--more",onClick:e[0]||(e[0]=(...t)=>p.more&&p.more(...t))},h)):(0,i.kq)("",!0)],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Wm)(d,{height:"1.3rem"}),(0,i.Wm)(d,{height:"1.3rem"}),(0,i.Wm)(d,{height:"1.3rem"})],64))])}var d=s(643),c={name:"app-category",props:{type:String,nm:String,id:String},components:{UiSkeletor:d.Z},data(){return{page:1,pageSize:20,listCnt:0,postList:[],isLastPage:!1,dataLoaded:!1}},created(){this.init()},watch:{$route(t,e){this.init()}},methods:{async init(){this.page=1,this.isLastPage=!1,this.dataLoaded=!1,this.postList=[],await this.dataLoading(),await this.listPostByCategory()},listPostByCategory(){let t={page:this.page,pageSize:this.pageSize};return this.$http.get(`/post/${this.type}/list/${this.id}`,{params:t}).then((t=>{t.data[0].map((t=>{t.regDate=this.$moment(t.regDate).format("YYYY.MM.DD"),this.postList.push(t)})),this.listCnt=t.data[1],this.listCnt===this.postList.length&&(this.isLastPage=!0)}))},more(){this.page++,this.listPostByCategory()},dataLoading(){return Promise.resolve(setTimeout((()=>{this.dataLoaded=!0}),500))}}},u=s(89);const m=(0,u.Z)(c,[["render",p]]);var y=m}}]);
//# sourceMappingURL=602.f8f6f338.js.map