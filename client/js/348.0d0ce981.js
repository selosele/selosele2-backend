"use strict";(self["webpackChunkselosele2"]=self["webpackChunkselosele2"]||[]).push([[348],{7348:function(e,t,o){o.r(t),o.d(t,{default:function(){return p}});var l=o(3396);const a={class:"d-flex flex--right gap--10 mb--15"};function i(e,t,o,i,n,s){const r=(0,l.up)("ui-select"),d=(0,l.up)("ui-button"),p=(0,l.up)("ui-grid"),u=(0,l.up)("app-content-wrapper");return(0,l.wg)(),(0,l.j4)(u,null,{default:(0,l.w5)((()=>[(0,l._)("div",a,[(0,l.Wm)(r,{name:"option",id:"listPostReplyAllOption",title:"댓글 조회 옵션 선택",data:n.optionList,modelValue:n.option,"onUpdate:modelValue":t[0]||(t[0]=e=>n.option=e),onOnchange:s.listPostReplyAll},null,8,["data","modelValue","onOnchange"]),"delYn"===n.option?((0,l.wg)(),(0,l.j4)(d,{key:0,color:"primary",text:"복구",onClick:s.restorePostReply},null,8,["onClick"])):(0,l.kq)("",!0)]),(0,l.Wm)(p,{columnDefs:n.columnDefs,rowData:n.rowData,checkboxIndex:0,pagination:!0,onGridready:s.onGridReady,onCelldoubleclicked:s.onCellDoubleClicked},null,8,["columnDefs","rowData","onGridready","onCelldoubleclicked"])])),_:1})}var n=o(8822),s={name:"AppAdminPostReply",data(){return{columnDefs:[{},{headerName:"댓글 URL",field:"link",width:80},{headerName:"댓글 내용",field:"cont"},{headerName:"댓글 등록일시",field:"regDate",width:100},{headerName:"댓글 수정일시",field:"modDate",width:100}],rowData:[],optionList:[],option:"",gridApi:null}},async created(){this.$store.dispatch("Breadcrumb/FETCH_PAGE_TITLE","포스트 댓글 관리"),this.optionList=[{value:"",text:"전체"},{value:"adminYn",text:"관리자 작성 댓글"},{value:"delYn",text:"삭제된 댓글"}],await this.listPostReplyAll()},methods:{onGridReady(e){this.gridApi=e},onCellDoubleClicked(e){this.$router.push(e.data["link"])},listPostReplyAll(){let e={};return(0,n.SL)(this.option)&&(e[this.option]="Y"),this.$http.get("/postreply",{params:e}).then((e=>{this.rowData=[],e.data.forEach((e=>{e.link=`/post/${e.parentId}`,e.regDate=this.$moment(e.regDate).format("YYYY-MM-DD HH:mm:ss"),(0,n.UE)(e.modDate)&&(e.modDate=this.$moment(e.modDate).format("YYYY-MM-DD HH:mm:ss")),this.rowData.push(e)}))}))},async restorePostReply(){const e=this.gridApi.getSelectedRows();if(0===e.length)return void n.wW.toastWarning("항목을 선택하세요.");const t=await n.wW.confirmSuccess("복구하시겠습니까?");t&&this.$http.put("/postreply/restore",e).then((e=>{n.wW.toastSuccess("복구되었습니다."),this.gridApi.removeSelectedRows()}))}}},r=o(89);const d=(0,r.Z)(s,[["render",i]]);var p=d}}]);