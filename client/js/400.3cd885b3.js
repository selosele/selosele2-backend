"use strict";(self["webpackChunkselosele2"]=self["webpackChunkselosele2"]||[]).push([[400],{3400:function(e,t,s){s.r(t),s.d(t,{default:function(){return _}});var n=s(3396),r=s(7139);const o={class:"login__wrapper"},u={class:"login__inner"},a=(0,n._)("button",{type:"submit",class:"login__btn login__btn--submit"},"로그인",-1);function i(e,t,s,i,l,d){const c=(0,n.up)("ui-text-field"),m=(0,n.up)("ui-form");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",u,[(0,n.Wm)(m,{autocomplete:"off",class:(0,r.C_)("login__frm"),name:"loginForm",onOnSubmit:d.onSubmit},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{type:"text",name:"userId",title:"아이디 입력",placeholder:"아이디",modelValue:l.userId,"onUpdate:modelValue":t[0]||(t[0]=e=>l.userId=e),rules:"required|maxLength:10"},null,8,["modelValue"]),(0,n.Wm)(c,{type:"password",name:"userPw",title:"비밀번호 입력",placeholder:"비밀번호",modelValue:l.userPw,"onUpdate:modelValue":t[1]||(t[1]=e=>l.userPw=e),rules:"required"},null,8,["modelValue"]),a,e.isDevelopment?((0,n.wg)(),(0,n.iD)("button",{key:0,type:"button",class:"login__btn login__btn--add",onClick:t[2]||(t[2]=(...e)=>d.addUser&&d.addUser(...e))},"사용자 생성")):(0,n.kq)("",!0)])),_:1},8,["onOnSubmit"])])])}var l=s(2969),d=s(7831),c=s(9692),m=s(6910),p={name:"app-login",components:{UiForm:l.Z,UiTextField:d.Z},data(){return{userId:"",userPw:""}},methods:{async onSubmit(e){try{let t=await this.$http.post("/auth/signin",e);const s=t.data.accessToken;if(s){this.$http.defaults.headers.common["Authorization"]=`Bearer ${s}`;const e=await this.$store.dispatch("LOGIN",s);"ok"===e&&this.$router.push("/")}}catch(t){m.Z.error(t.response.data.message)}},async addUser(){const e={userId:this.userId,userPw:this.userPw,roleId:""};if(!e.userId.trim())return void m.Z.warning("아이디를 입력하세요.");if(!e.userPw.trim())return void m.Z.warning("비밀번호를 입력하세요.");const t=await c.Z.success("사용자를 생성하시겠습니까?");t&&this.$http.post("/auth/signup",e).then((e=>{m.Z.success("사용자 생성에 성공했습니다.")}))}}},h=s(89);const w=(0,h.Z)(p,[["render",i]]);var _=w}}]);
//# sourceMappingURL=400.3cd885b3.js.map