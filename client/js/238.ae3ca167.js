"use strict";(self["webpackChunkselosele2"]=self["webpackChunkselosele2"]||[]).push([[238],{8238:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var i=a(3396),n=a(7139);const o={class:"d-flex flex--right gap--10 mb--15"},d=(0,i.Uk)("콘텐츠 생성 "),r=(0,i.Uk)("콘텐츠 삭제 ");function l(e,t,a,l,s,c){const h=(0,i.up)("ui-skeletor"),u=(0,i.up)("ui-icon-button"),m=(0,i.up)("ui-grid"),p=(0,i.up)("app-content-wrapper");return(0,i.wg)(),(0,i.j4)(p,{pageTitle:s.pageTitle},{default:(0,i.w5)((()=>[s.dataLoaded?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i._)("div",o,[(0,i.Wm)(u,{routerLink:"/add-content",color:"primary",icon:"xi-pen",class:(0,n.C_)("content__create")},{default:(0,i.w5)((()=>[d])),_:1}),(0,i.Wm)(u,{color:"dark",icon:"xi-trash",class:(0,n.C_)("content__delete"),onClick:c.removeContent},{default:(0,i.w5)((()=>[r])),_:1},8,["onClick"])]),(0,i.Wm)(m,{columnDefs:s.columnDefs,rowData:s.rowData,checkboxIndex:0,pagination:!0,onGridready:c.onGridReady,onCelldoubleclicked:c.onCellDoubleClicked},null,8,["columnDefs","rowData","onGridready","onCelldoubleclicked"])],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Wm)(h,{height:"1.3rem"},null,8,["height"]),(0,i.Wm)(h,{height:"1.3rem"},null,8,["height"]),(0,i.Wm)(h,{height:"1.3rem"},null,8,["height"])],64))])),_:1},8,["pageTitle"])}var s=a(8822),c=a(6597),h={name:"app-admin-content",data(){return{pageTitle:"콘텐츠 관리",columnDefs:[{},{headerName:"콘텐츠 URL",field:"link",width:100},{headerName:"콘텐츠 제목",field:"title"},{headerName:"콘텐츠 등록일시",field:"regDate",width:100},{headerName:"콘텐츠 수정일시",field:"modDate",width:100}],rowData:[],gridApi:null,dataLoaded:!1}},async created(){c.a.setPageTitle(this.pageTitle),await this.listContent(),this.dataLoading()},methods:{onGridReady(e){this.gridApi=e},onCellDoubleClicked(e){this.$router.push(`/content${e.data["link"]}`)},listContent(){return this.$http.get("/content").then((e=>{this.rowData=[],e.data[0].map((e=>{e.regDate=this.$moment(e.regDate).format("YYYY-MM-DD HH:mm:ss"),(0,s.UE)(e.modDate)&&(e.modDate=this.$moment(e.modDate).format("YYYY-MM-DD HH:mm:ss")),this.rowData.push(e)}))}))},async removeContent(){const e=this.gridApi.getSelectedRows();if(0===e.length)return void s.wW.toastWarning("삭제할 콘텐츠를 선택하세요.");const t=await s.wW.confirmQuestion("삭제하시겠습니까?");if(!t)return;let a=[];e.forEach(((e,t)=>{a.push({id:e.id})})),this.$http.post("/content/remove",a).then((e=>{this.gridApi.removeSelectedRows(),s.wW.toastSuccess("삭제되었습니다.")}))},dataLoading(){this.dataLoaded2=!0}}},u=a(89);const m=(0,u.Z)(h,[["render",l]]);var p=m}}]);
//# sourceMappingURL=238.ae3ca167.js.map