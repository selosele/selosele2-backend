"use strict";(self["webpackChunkselosele2"]=self["webpackChunkselosele2"]||[]).push([[905],{6597:function(e,t,a){a.d(t,{a:function(){return l}});var n=a(8665),i=a(1580);class o{constructor(){}setPageTitle(e){(0,i.UE)(e)?document.title=`${e} - ${n.Z.state.BlogConfig.data.title}`:document.title=n.Z.state.BlogConfig.data.title}}const l=new o},1905:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});var n=a(3396),i=a(7139);const o={class:"d-flex flex--right gap--10 mb--15"},l=(0,n._)("i",{class:"xi-pen","aria-hidden":"true"},null,-1),r=(0,n.Uk)(" 콘텐츠 생성 "),d=(0,n._)("i",{class:"xi-trash","aria-hidden":"true"},null,-1),s=(0,n.Uk)(" 콘텐츠 삭제 ");function c(e,t,a,c,u,h){const m=(0,n.up)("ui-skeletor"),g=(0,n.up)("ui-button"),p=(0,n.up)("ui-grid"),f=(0,n.up)("app-content-wrapper");return(0,n.wg)(),(0,n.j4)(f,{pageTitle:u.pageTitle},{default:(0,n.w5)((()=>[u.dataLoaded?((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n._)("div",o,[(0,n.Wm)(g,{routerLink:"/add-content",color:"primary",class:(0,i.C_)("content__create")},{default:(0,n.w5)((()=>[l,r])),_:1}),(0,n.Wm)(g,{color:"dark",class:(0,i.C_)("content__delete"),onClick:h.removeContent},{default:(0,n.w5)((()=>[d,s])),_:1},8,["onClick"])]),(0,n.Wm)(p,{columnDefs:u.columnDefs,rowData:u.rowData,checkboxIndex:0,pagination:!0,onOnGridReady:h.onGridReady,onCellDoubleClicked:h.cellDoubleClicked},null,8,["columnDefs","rowData","onOnGridReady","onCellDoubleClicked"])],64)):((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Wm)(m,{height:"1.3rem"},null,8,["height"]),(0,n.Wm)(m,{height:"1.3rem"},null,8,["height"]),(0,n.Wm)(m,{height:"1.3rem"},null,8,["height"])],64))])),_:1},8,["pageTitle"])}var u=a(1580),h=a(6597),m={name:"app-content",data(){return{pageTitle:"콘텐츠 관리",columnDefs:[{},{headerName:"콘텐츠 URL",field:"link"},{headerName:"콘텐츠 제목",field:"title"},{headerName:"콘텐츠 등록일시",field:"regDate",width:150},{headerName:"콘텐츠 수정일시",field:"modDate",width:150}],rowData:[],gridApi:null,dataLoaded:!1}},async created(){h.a.setPageTitle(this.pageTitle),await this.listContent(),this.dataLoading()},methods:{onGridReady(e){this.gridApi=e},cellDoubleClicked(e){this.$router.push("/content"+e.data["link"])},listContent(){return this.$http.get("/content").then((e=>{this.rowData=[],e.data.map((e=>{e.regDate=this.$moment(e.regDate).format("YYYY-MM-DD HH:mm:ss"),e.modDate=this.$moment(e.modDate).format("YYYY-MM-DD HH:mm:ss"),this.rowData.push(e)}))}))},async removeContent(){const e=this.gridApi.getSelectedRows();if(0===e.length)return void u.wW.toastWarning("삭제할 콘텐츠를 선택하세요.");const t=await u.wW.confirmQuestion("삭제하시겠습니까?");if(!t)return;let a=[];e.forEach(((e,t)=>{a.push({id:e.id})})),this.$http.delete("/content",{data:a}).then((e=>{this.gridApi.removeSelectedRows(),u.wW.toastSuccess("삭제되었습니다.")}))},dataLoading(){0<this.rowData.length&&(this.dataLoaded=!0)}}},g=a(89);const p=(0,g.Z)(m,[["render",c]]);var f=p}}]);
//# sourceMappingURL=905.01d451e0.js.map