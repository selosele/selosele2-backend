{"version":3,"file":"js/852.ac55b109.js","mappings":"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","sources":["webpack://selosele2/./src/views/AppSearch.vue","webpack://selosele2/./src/components/shared/form/UiSelect.vue","webpack://selosele2/./src/components/shared/form/UiSelect.vue?73a2","webpack://selosele2/./src/views/AppSearch.vue?43a2"],"sourcesContent":["<template>\r\n  <div class=\"search__wrapper\">\r\n    <ui-form :class=\"'search__frm'\" :name=\"'searchForm'\" @onSubmit=\"onSubmit\">\r\n      <div class=\"search__field\" ref=\"searchField\">\r\n        <ui-select :name=\"'t'\"\r\n                   :title=\"'검색 옵션'\"\r\n                   :class=\"'search__option'\" \r\n                   v-model=\"t\" \r\n                   :data=\"tData\"\r\n                   :selectedValue=\"this.$route.query['t']\" />\r\n\r\n        <ui-text-field :type=\"'search'\"\r\n                       :name=\"'q'\"\r\n                       :id=\"'q'\"\r\n                       :title=\"'포스트 검색'\"\r\n                       :placeholder=\"'검색어를 입력하세요.'\"\r\n                       v-model=\"q\" />\r\n\r\n        <button type=\"submit\" class=\"search__btn\">\r\n          <i class=\"xi-search\" aria-hidden=\"true\"></i>\r\n          <span class=\"sr-only\">검색</span>\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"search__detail\">\r\n        <ui-checkbox :name=\"'c'\"\r\n                     :id=\"'c'\"\r\n                     :label=\"'대소문자 구분'\"\r\n                     :values=\"'Y,N'\"\r\n                     v-model=\"c\"\r\n                     :checked=\"('Y' === this.$route.query['c'])\" />\r\n      </div>\r\n    </ui-form>\r\n\r\n      <p class=\"search__info\">\r\n        <template v-if=\"0 === listCnt\">\r\n          검색 결과를 찾을 수 없습니다.\r\n        </template>\r\n        \r\n        <template v-if=\"postList !== null && postList.length > 0\">\r\n          <strong class=\"search__info__txt\">{{ this.$route.query['q'] }}</strong>에 대한 검색 결과는\r\n          <strong class=\"search__info__txt\">{{ listCnt }}개</strong>입니다.\r\n      \r\n          <a :href=\"googleSearchUrl\"\r\n              target=\"_blank\"\r\n              title=\"새창\"\r\n              rel=\"noopener noreferrer nofollow\"\r\n              class=\"btn btn--dark search__google\">\r\n            <i class=\"xi-google\" aria-hidden=\"true\"></i> Google에서 검색\r\n          </a>\r\n        </template>\r\n      </p>\r\n\r\n    <div class=\"search__results__wrapper\" ref=\"resultsWrapper\">\r\n      <ui-loading :activeModel=\"dataLoaded\"\r\n                  :fullPage=\"true\" />\r\n\r\n      <ul class=\"post__wrapper search__results\" v-if=\"!dataLoaded\">\r\n        <li class=\"post__wrapper__list\" v-for=\"(post,i) in postList\" :key=\"i\">\r\n          <article>\r\n            <h2 class=\"post__title\">\r\n              <router-link :to=\"`/post/${post.id}`\" @click=\"saveToStorage\">{{ post.title }}</router-link>\r\n            </h2>\r\n\r\n            <p class=\"post__og-image\" v-if=\"post.ogImgUrl\">\r\n              <span class=\"post__og-image__box\">\r\n                <img :src=\"post.ogImgUrl\" alt=\"\">\r\n              </span>\r\n            </p>\r\n  \r\n            <p class=\"post__cont\">{{ post.rawText }}</p>\r\n\r\n            <div class=\"post__box__item-wrapper\">\r\n              <span class=\"post__box__item post__box__item--regdate\">\r\n                <i class=\"xi-time-o\" aria-hidden=\"true\"></i>\r\n                <span class=\"sr-only\">등록일</span>\r\n                <time :datetime=\"$moment(post.regDate).format('YYYY-MM-DD HH:mm:ss')\">\r\n                  {{ $moment(post.regDate).format('YYYY.MM.DD') }}\r\n                </time>\r\n              </span>\r\n\r\n              <template v-if=\"post.postCategory.length > 0\">\r\n                <span class=\"post__box__item post__box__item--category\"\r\n                      v-for=\"(category,j) in post.postCategory\"\r\n                      :key=\"j\">\r\n                  <span class=\"sr-only\">카테고리</span> {{ category.category.nm }}\r\n                </span>\r\n              </template>\r\n            </div>\r\n          </article>\r\n        </li>\r\n      </ul>\r\n\r\n      <p class=\"search__more__wrapper\"\r\n          @click=\"more\"\r\n          v-if=\"listCnt > pageSize && !isLastPage\">\r\n        <button type=\"button\" class=\"btn search__more\">\r\n          <i class=\"xi-plus-circle\" aria-hidden=\"true\"></i> 더보기\r\n        </button>\r\n      </p>\r\n\r\n      <a href=\"#q\"\r\n        :class=\"[\r\n          'btn search__to-input',\r\n          { 'search__to-input--active': this.searchToInputActive }\r\n          ]\"\r\n        @click.prevent=\"searchToInput\">\r\n        <i class=\"xi-search\" aria-hidden=\"true\"></i>\r\n        <span class=\"sr-only\">검색 필드 바로가기</span>\r\n      </a>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport UiLoading from '@/components/shared/loading/UiLoading.vue';\r\nimport UiForm from '@/components/shared/form/UiForm.vue';\r\nimport UiTextField from '@/components/shared/form/UiTextField.vue';\r\nimport UiSelect from '@/components/shared/form/UiSelect.vue';\r\nimport UiCheckbox from '@/components/shared/form/UiCheckbox.vue';\r\nimport snackbar from '@/utils/ui/Snackbar';\r\n\r\nexport default {\r\n  name: 'app-search',\r\n  components: {\r\n    UiLoading,\r\n    UiForm,\r\n    UiTextField,\r\n    UiSelect,\r\n    UiCheckbox,\r\n  },\r\n  data() {\r\n    return {\r\n      t: this.$route.query['t'] || '001',\r\n      q: this.$route.query['q'] || '',\r\n      c: this.$route.query['c'] || 'N',\r\n      tData: [],\r\n      page: 1,\r\n      nowPage: 1,\r\n      pageSize: 10,\r\n      listCnt: null,\r\n      postList: [],\r\n      googleSearchUrl: '',\r\n      searchToInputActive: false,\r\n      isLastPage: false,\r\n      dataLoaded: false,\r\n    }\r\n  },\r\n  async created() {\r\n    // 검색옵션 코드 세팅\r\n    this.$store.state.code.map((d,i) => {\r\n      if ('A01' === d.prefix) {\r\n        let obj = {\r\n          value: d.val,\r\n          text: d.nm,\r\n        };\r\n        this.tData.push(obj);\r\n      }\r\n    });\r\n\r\n    // 검색키워드 파라미터 값이 있으면 검색 메소드 실행\r\n    if (this.$route.query['q']) {\r\n      await this.dataLoading();\r\n      await this.listPostSearch({\r\n        t: this.t,\r\n        q: this.q,\r\n        c: this.c,\r\n        page: this.page,\r\n        pageSize: this.pageSize,\r\n      });\r\n    }\r\n  },\r\n  beforeRouteUpdate(to, from, next) {\r\n    // 페이지 전환 시 검색키워드 파라미터가 없으면 검색결과를 초기화\r\n    if (!to.query.q) {\r\n      this.postList = null;\r\n    }\r\n    next();\r\n  },\r\n  mounted() {\r\n    document.addEventListener('scroll', this.scroll);\r\n  },\r\n  unmounted() {\r\n    document.removeEventListener('scroll', this.scroll);\r\n  },\r\n  methods: {\r\n    async onSubmit(values) {\r\n      if (!this.t.trim()) {\r\n        snackbar.warning('검색옵션을 선택하세요.');\r\n        return;\r\n      }\r\n      if (!this.q.trim()) {\r\n        snackbar.warning('검색어를 입력하세요.');\r\n        return;\r\n      }\r\n      await this.dataLoading();\r\n\r\n      this.init();\r\n\r\n      values.page = this.page;\r\n      values.pageSize = this.pageSize;\r\n      \r\n      await this.listPostSearch(values);\r\n    },\r\n    init() {\r\n      localStorage.getItem('searchPage') && localStorage.removeItem('searchPage');\r\n      localStorage.getItem('searchPostList') && localStorage.removeItem('searchPostList');\r\n\r\n      this.page = 1;\r\n      this.dataLoaded = false;\r\n\r\n      this.postList = [];\r\n      this.isLastPage = false;\r\n    },\r\n    // 포스트 검색\r\n    listPostSearch(params) {\r\n      const storageList = localStorage.getItem('searchPostList');\r\n\r\n      return this.$http.get('/post/search', { params: params })\r\n        .then(async res => {\r\n          const resList = storageList ? JSON.parse(storageList) : res.data[0];\r\n\r\n          res.data[0].map(d => {\r\n            this.postList.push(d);\r\n          });\r\n\r\n          this.listCnt = res.data[1];\r\n\r\n          if (this.listCnt === this.postList.length) {\r\n            this.isLastPage = true;\r\n          }\r\n\r\n          this.googleSearchUrl = encodeURI(`https://www.google.com/search?q=${this.q}`);\r\n\r\n          await this.$router.push({\r\n            path: '/search', \r\n            query: {\r\n              q: this.q, \r\n              t: this.t, \r\n              c: this.c,\r\n            },\r\n          });\r\n        });\r\n    },\r\n    // 뒤로가기 시 더보기 데이타 유지를 위해 페이지 값과 포스트 목록을 저장\r\n    saveToStorage() {\r\n      localStorage.setItem('searchPage', (localStorage.getItem('searchPage') ? this.nowPage : this.page+1));\r\n      localStorage.setItem('searchPostList', JSON.stringify(this.postList));\r\n    },\r\n    // 더보기\r\n    more() {\r\n      const storageList = localStorage.getItem('searchPostList');\r\n      // if (storageList) this.postList = [];\r\n\r\n      this.nowPage = parseInt(localStorage.getItem('searchPage')) || this.page;\r\n      this.page++;\r\n\r\n      this.listPostSearch({\r\n        t: this.t,\r\n        q: this.q,\r\n        c: this.c,\r\n        page: this.page,\r\n        pageSize: this.pageSize,\r\n      });\r\n    },\r\n    // 스크롤 시 검색 input으로 향하는 버튼 toggle\r\n    scroll() {\r\n      if (null === this.postList || 0 === this.postList.length) return;\r\n\r\n      if (this.$refs.resultsWrapper && (window.pageYOffset >= this.$refs.resultsWrapper.offsetTop)) {\r\n        this.searchToInputActive = true;\r\n      } else {\r\n        this.searchToInputActive = false;\r\n      }\r\n    },\r\n    // 검색 필드로 focus\r\n    searchToInput() {\r\n      const st = this.$refs.searchField.offsetTop - 100;\r\n      window.scrollTo(0, st);\r\n    },\r\n    // 데이타 로딩\r\n    dataLoading() {\r\n      this.dataLoaded = true;\r\n\r\n      return Promise.resolve(\r\n        setTimeout(() => {\r\n          this.dataLoaded = false;\r\n        }, 1000)\r\n      );\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '@/assets/scss/views/search.scss';\r\n</style>\r\n","<template>\r\n  <select :id=\"id\"\r\n          :name=\"name\"\r\n          :title=\"title\"\r\n          :class=\"className\"\r\n          :rules=\"rules\"\r\n          @change=\"$emit('update:modelValue', $event.target.value)\">\r\n\r\n    <option value=\"\"\r\n            :disabled=\"(defaultValueDisabled ? 'disabled' : false)\"\r\n            selected v-if=\"defaultValue\">{{ defaultValue }}\r\n    </option>\r\n    \r\n    <template v-if=\"data && data.length > 0\">\r\n      <option v-for=\"d,i in data\"\r\n              :key=\"i\"\r\n              :value=\"d.value\"\r\n              :selected=\"d.value === selectedValue\">{{ d.text }}</option>\r\n    </template>\r\n  </select>\r\n</template>\r\n\r\n<script>\r\nimport { Field, ErrorMessage } from 'vee-validate';\r\n\r\nexport default {\r\n  name: 'ui-select',\r\n  components: {\r\n    Field,\r\n    ErrorMessage,\r\n  },\r\n  props: {\r\n    id: String,                           // select id\r\n    name: String,                         // select name\r\n    title: String,                        // select title\r\n    className: String,                    // select class\r\n    rules: String,                        // select validation rules\r\n    selectedValue: [String, Number],      // select selected value\r\n    data: Array,                          // select data\r\n    defaultValue: String,                 // select default value\r\n    defaultValueDisabled: Boolean,        // select default value 비활성화 여부 (비활성화 false - 기본값, 활성화 true)\r\n    modelValue: String,                   // select modelValue\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>","import { render } from \"./UiSelect.vue?vue&type=template&id=01ef172c\"\nimport script from \"./UiSelect.vue?vue&type=script&lang=js\"\nexport * from \"./UiSelect.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\dmitr\\\\Desktop\\\\p\\\\repo\\\\selosele2\\\\frontend\\\\selosele2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./AppSearch.vue?vue&type=template&id=4cfe3a68\"\nimport script from \"./AppSearch.vue?vue&type=script&lang=js\"\nexport * from \"./AppSearch.vue?vue&type=script&lang=js\"\n\nimport \"./AppSearch.vue?vue&type=style&index=0&id=4cfe3a68&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\dmitr\\\\Desktop\\\\p\\\\repo\\\\selosele2\\\\frontend\\\\selosele2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","ref","_createElementVNode","type","_hoisted_12","_hoisted_28","_hoisted_30","_hoisted_31","_createElementBlock","_createVNode","_component_ui_form","name","onOnSubmit","$options","_component_ui_select","title","$data","$event","data","selectedValue","$route","query","_component_ui_text_field","id","placeholder","_hoisted_3","_component_ui_checkbox","label","values","checked","_Fragment","key","length","_toDisplayString","href","target","rel","_component_ui_loading","activeModel","fullPage","_renderList","post","i","_component_router_link","to","onClick","ogImgUrl","src","alt","rawText","_hoisted_24","_hoisted_25","datetime","_ctx","regDate","format","_hoisted_26","postCategory","category","j","_hoisted_27","nm","searchToInputActive","$props","rules","onChange","value","disabled","selected","_hoisted_2","d","text","components","Field","ErrorMessage","props","String","className","Number","Array","defaultValue","defaultValueDisabled","Boolean","modelValue","__exports__","UiLoading","UiForm","UiTextField","UiSelect","UiCheckbox","t","this","q","c","tData","page","nowPage","pageSize","listCnt","postList","googleSearchUrl","isLastPage","dataLoaded","async","$store","state","code","map","prefix","obj","val","push","dataLoading","listPostSearch","beforeRouteUpdate","from","next","mounted","document","addEventListener","scroll","unmounted","removeEventListener","methods","trim","init","snackbar","localStorage","getItem","removeItem","params","storageList","$http","get","then","JSON","parse","res","encodeURI","$router","path","saveToStorage","setItem","stringify","more","parseInt","$refs","resultsWrapper","window","pageYOffset","offsetTop","searchToInput","st","searchField","scrollTo","Promise","resolve","setTimeout","render"],"sourceRoot":""}