"use strict";(self["webpackChunkselosele2"]=self["webpackChunkselosele2"]||[]).push([[169],{6597:function(e,l,o){o.d(l,{a:function(){return i}});var a=o(9266),t=o(8822);class g{constructor(){}setPageTitle(e){(0,t.UE)(e)?document.title=`${e} - ${a.Z.state.BlogConfig.data?.title}`:document.title=a.Z.state.BlogConfig.data?.title}}const i=new g},9169:function(e,l,o){o.r(l),o.d(l,{default:function(){return O}});var a=o(3396),t=o(7139);const g=e=>((0,a.dD)("data-v-c73f2578"),e=e(),(0,a.Cn)(),e),i=g((()=>(0,a._)("th",{scope:"row"},[(0,a._)("label",{for:"blogConfigTitle"},[(0,a.Uk)("블로그 제목"),(0,a._)("br"),(0,a.Uk)("(100자 이내) "),(0,a._)("sup",null,[(0,a.Uk)("* "),(0,a._)("span",{class:"sr-only"},"필수입력란")])])],-1))),n=g((()=>(0,a._)("th",{scope:"row"},[(0,a._)("label",{for:"blogConfigAuthor"},[(0,a.Uk)("닉네임(30자 이내) "),(0,a._)("sup",null,[(0,a.Uk)("* "),(0,a._)("span",{class:"sr-only"},"필수입력란")])])],-1))),s=g((()=>(0,a._)("th",{scope:"row"},[(0,a._)("label",{for:"blogConfigDesc"},"블로그 소개(100자 이내)")],-1))),r=g((()=>(0,a._)("th",{scope:"row"},[(0,a._)("label",{for:"blogConfigAvatarImgFile"},"블로그 아바타 이미지")],-1))),u=(0,a.Uk)("Cloudinary "),m={key:0,class:"blog-config__avatar-image-use-wrapper"},d={class:"blog-config__avatar-image-use"},f=g((()=>(0,a._)("th",{scope:"row"},[(0,a._)("label",{for:"blogConfigOgImgFile"},"블로그 대표 이미지")],-1))),C=(0,a.Uk)("Cloudinary "),c={key:0,class:"blog-config__og-image-use-wrapper"},v={class:"blog-config__og-image-use"},h=g((()=>(0,a._)("th",{scope:"row"},[(0,a._)("label",{for:"blogConfigOgImgContrast"},"블로그 대표 이미지 밝기")],-1))),p=g((()=>(0,a._)("th",{scope:"row"},[(0,a._)("label",{for:"blogConfigOgImgBlur"},"블로그 대표 이미지 흐림")],-1))),b={class:"blog-config__og-image-wrapper blog-config__og-image-wrapper--active"},I=g((()=>(0,a._)("th",{scope:"row"},"블로그 대표 이미지 위치값",-1))),_=g((()=>(0,a._)("th",{scope:"row"},[(0,a._)("label",{for:"blogConfigPageSize"},[(0,a.Uk)("메인 포스트 목록 "),(0,a._)("br"),(0,a.Uk)("출력 개수")])],-1))),w=g((()=>(0,a._)("th",{scope:"row"},[(0,a._)("label",{for:"blogConfigshowSatisYn"},"페이지 만족도조사 표출")],-1))),F={class:"d-flex-w flex--center gap--10 mt--20 mb--20"},B=(0,a.Uk)("다시작성 "),U=(0,a.Uk)("저장 ");function S(e,l,o,g,S,V){const W=(0,a.up)("ui-loading"),k=(0,a.up)("ui-hidden-field"),z=(0,a.up)("ui-text-field"),L=(0,a.up)("ui-textarea"),O=(0,a.up)("ui-button"),x=(0,a.up)("ui-file-list"),y=(0,a.up)("ui-file-field"),T=(0,a.up)("ui-checkbox"),$=(0,a.up)("ui-numeric-field"),P=(0,a.up)("ui-write-table"),A=(0,a.up)("ui-form"),E=(0,a.up)("app-content-wrapper");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(W,{activeModel:!S.dataLoaded,fullPage:!0},null,8,["activeModel"]),(0,a.Wm)(E,{pageTitle:S.pageTitle},{default:(0,a.w5)((()=>[(0,a.Wm)(A,{name:"blogConfigForm",ref:"blogConfigForm",class:(0,t.C_)("blog-config__frm"),onOnsubmit:V.onSubmit},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{name:"id",id:"blogConfigId",value:V.blogConfig.id},null,8,["value"]),(0,a.Wm)(P,{name:"블로그 환경설정 작성 폼",colWidth:["20%","80%"]},{default:(0,a.w5)((()=>[(0,a._)("tr",null,[i,(0,a._)("td",null,[(0,a.Wm)(z,{type:"text",name:"title",id:"blogConfigTitle",class:(0,t.C_)("blog-config__title"),block:!0,rules:"required|max:100",value:V.blogConfig.title,modelValue:S.previewBlogConfig.title,"onUpdate:modelValue":l[0]||(l[0]=e=>S.previewBlogConfig.title=e)},null,8,["value","modelValue"])])]),(0,a._)("tr",null,[n,(0,a._)("td",null,[(0,a.Wm)(z,{type:"text",name:"author",id:"blogConfigAuthor",class:(0,t.C_)("blog-config__author"),block:!0,rules:"required|max:30",value:V.blogConfig.author,modelValue:S.previewBlogConfig.author,"onUpdate:modelValue":l[1]||(l[1]=e=>S.previewBlogConfig.author=e)},null,8,["value","modelValue"])])]),(0,a._)("tr",null,[s,(0,a._)("td",null,[(0,a.Wm)(L,{name:"desc",id:"blogConfigDesc",cols:"30",rows:"10",resize:"vertical",rules:"required|max:100",value:V.blogConfig.desc},null,8,["value"])])]),(0,a._)("tr",null,[r,(0,a._)("td",null,[(0,a.Wm)(k,{name:"avatarImg",id:"blogConfigAvatarImg",value:V.blogConfig.avatarImg},null,8,["value"]),(0,a.Wm)(k,{name:"avatarImgUrl",id:"blogConfigAvatarImgUrl",value:V.blogConfig.avatarImgUrl,modelValue:S.previewBlogConfig.avatarImgUrl,"onUpdate:modelValue":l[2]||(l[2]=e=>S.previewBlogConfig.avatarImgUrl=e)},null,8,["value","modelValue"]),(0,a.Wm)(k,{name:"avatarImgSize",id:"blogConfigAvatarImgSize",value:V.blogConfig.avatarImgSize},null,8,["value"]),(0,a.Wm)(y,{name:"avatarImgFile",id:"blogConfigAvatarImgFile",accept:"image/*",gap:10,onOnchange:V.onChangeAvatarImg},{default:(0,a.w5)((()=>[(0,a.Wm)(O,{type:"button",color:"secondary",onClick:l[3]||(l[3]=e=>V.listFile("avatar"))},{default:(0,a.w5)((()=>[u])),_:1}),S.dataLoaded&&0<S.avatarFileList.length?((0,a.wg)(),(0,a.j4)(x,{key:0,value:S.avatarFileList,onClickFile:V.onClickFile},null,8,["value","onClickFile"])):(0,a.kq)("",!0)])),_:1},8,["onOnchange"]),V.blogConfig.avatarImg?((0,a.wg)(),(0,a.iD)("div",m,[(0,a._)("span",d,(0,t.zw)(S.avatarImg)+" (용량 : "+(0,t.zw)(S.getFileSize(S.avatarImgSize))+") ",1),(0,a.Wm)(T,{name:"delAvatarImg",id:"blogConfigDelAvatarImg",label:"삭제",values:"Y,N"})])):(0,a.kq)("",!0)])]),(0,a._)("tr",null,[f,(0,a._)("td",null,[(0,a.Wm)(k,{name:"ogImg",id:"blogConfigOgImg",value:V.blogConfig.ogImg},null,8,["value"]),(0,a.Wm)(k,{name:"ogImgUrl",id:"blogConfigOgImgUrl",value:V.blogConfig.ogImgUrl,modelValue:S.previewBlogConfig.ogImgUrl,"onUpdate:modelValue":l[4]||(l[4]=e=>S.previewBlogConfig.ogImgUrl=e)},null,8,["value","modelValue"]),(0,a.Wm)(k,{name:"ogImgSize",id:"blogConfigOgImgSize",value:V.blogConfig.ogImgSize},null,8,["value"]),(0,a.Wm)(y,{name:"ogImgFile",id:"blogConfigOgImgFile",accept:"image/*",gap:10,onOnchange:V.onChangeOgImg},{default:(0,a.w5)((()=>[(0,a.Wm)(O,{type:"button",color:"secondary",onClick:l[5]||(l[5]=e=>V.listFile("og"))},{default:(0,a.w5)((()=>[C])),_:1}),S.dataLoaded&&0<S.ogFileList.length?((0,a.wg)(),(0,a.j4)(x,{key:0,value:S.ogFileList,onClickFile:V.onClickFile},null,8,["value","onClickFile"])):(0,a.kq)("",!0)])),_:1},8,["onOnchange"]),V.blogConfig.ogImg?((0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("span",v,(0,t.zw)(S.ogImg)+" (용량 : "+(0,t.zw)(S.getFileSize(S.ogImgSize))+") ",1),(0,a.Wm)(T,{name:"delOgImg",id:"blogConfigDelOgImg",label:"삭제",values:"Y,N"})])):(0,a.kq)("",!0)])]),(0,a._)("tr",null,[h,(0,a._)("td",null,[(0,a.Wm)($,{name:"ogImgContrast",id:"blogConfigOgImgContrast",step:"0.01",min:"0",max:"1.1",rules:"between:0,1.1",text:"0.1 ~ 1 미만 (초기화 0)",value:V.blogConfig.ogImgContrast,modelValue:S.previewBlogConfig.ogImgContrast,"onUpdate:modelValue":l[6]||(l[6]=e=>S.previewBlogConfig.ogImgContrast=e)},null,8,["step","max","rules","text","value","modelValue"])])]),(0,a._)("tr",null,[p,(0,a._)("td",null,[(0,a.Wm)($,{name:"ogImgBlur",id:"blogConfigOgImgBlur",step:"0.01",min:"0",max:"9.9",rules:"between:0,9.9",text:"0.1 ~ 10 미만 (초기화 0)",value:V.blogConfig.ogImgBlur,modelValue:S.previewBlogConfig.ogImgBlur,"onUpdate:modelValue":l[7]||(l[7]=e=>S.previewBlogConfig.ogImgBlur=e)},null,8,["step","max","rules","text","value","modelValue"])])]),(0,a._)("tr",b,[I,(0,a._)("td",null,[(0,a.Wm)($,{name:"ogImgPosX",id:"blogConfigOgImgPosX",min:"0",max:"100",rules:"between:0,100",text:"가로 0 ~ 100 (기본 50)",title:"블로그 대표 이미지 가로 위치값",value:V.blogConfig.ogImgPosX,modelValue:S.previewBlogConfig.ogImgPosX,"onUpdate:modelValue":l[8]||(l[8]=e=>S.previewBlogConfig.ogImgPosX=e)},null,8,["text","value","modelValue"]),(0,a.Wm)($,{name:"ogImgPosY",id:"blogConfigOgImgPosY",min:"0",max:"100",rules:"between:0,100",text:"세로 0 ~ 100 (기본 50)",title:"블로그 대표 이미지 세로 위치값",value:V.blogConfig.ogImgPosY,modelValue:S.previewBlogConfig.ogImgPosY,"onUpdate:modelValue":l[9]||(l[9]=e=>S.previewBlogConfig.ogImgPosY=e)},null,8,["text","value","modelValue"])])]),(0,a._)("tr",null,[_,(0,a._)("td",null,[(0,a.Wm)($,{name:"pageSize",id:"blogConfigPageSize",min:"2",max:"10",rules:"between:2,10",text:"2 ~ 10 (기본 6)",value:V.blogConfig.pageSize},null,8,["text","value"])])]),(0,a._)("tr",null,[w,(0,a._)("td",null,[(0,a.Wm)(T,{name:"showSatisYn",id:"blogConfigshowSatisYn",label:"페이지 만족도조사 표출",labelHidden:!0,values:"Y,N",modelValue:S.showSatisYn,"onUpdate:modelValue":l[10]||(l[10]=e=>S.showSatisYn=e)},null,8,["modelValue"])])])])),_:1}),(0,a._)("div",F,[(0,a.Wm)(O,{type:"reset",color:"secondary"},{default:(0,a.w5)((()=>[B])),_:1}),(0,a.Wm)(O,{type:"submit",color:"primary"},{default:(0,a.w5)((()=>[U])),_:1})])])),_:1},8,["onOnsubmit"])])),_:1},8,["pageTitle"])],64)}var V=o(6597),W=o(8822),k={name:"app-blog-config",data(){return{pageTitle:"블로그 환경설정",avatarImg:"",avatarImgUrl:"",avatarImgSize:"",ogImg:"",ogImgUrl:"",ogImgSize:"",showSatisYn:"",avatarFileList:[],ogFileList:[],previewBlogConfig:{},dataLoaded:!1,getFileSize:W.hR}},async beforeRouteLeave(e,l,o){(0,W.UE)(this.$store.state.BlogConfig?.previewData)&&(this.$store.dispatch("BlogConfig/FETCH_PREVIEW_DATA",null),await this.$store.dispatch("BlogConfig/GET_BLOG_CONFIG",{client:this.$http})),o()},created(){V.a.setPageTitle(this.pageTitle),this.avatarImg=this.blogConfig.avatarImg,this.avatarImgSize=this.blogConfig.avatarImgSize,this.ogImg=this.blogConfig.ogImg,this.ogImgSize=this.blogConfig.ogImgSize,this.showSatisYn=this.blogConfig.showSatisYn,this.$store.dispatch("BlogConfig/FETCH_PREVIEW_DATA",null),this.previewBlogConfig=Object.assign({},this.$store.state.BlogConfig.data),this.dataLoaded=!0},computed:{blogConfig:{get(){return this.$store.state.BlogConfig.data},set(e){}}},watch:{previewBlogConfig:{handler:function(e,l){this.$store.dispatch("BlogConfig/FETCH_BLOG_CONFIG",e),this.$store.dispatch("BlogConfig/FETCH_PREVIEW_DATA",e)},deep:!0}},methods:{async onSubmit(e){const l=await W.wW.confirmSuccess("저장하시겠습니까?");if(!l)return;const o={"Content-Type":"multipart/form-data"};this.$http.put("/blogconfig",e,{headers:o}).then((e=>{W.wW.toastSuccess("저장되었습니다."),this.$store.dispatch("BlogConfig/FETCH_BLOG_CONFIG",e.data),this.$store.dispatch("BlogConfig/FETCH_PREVIEW_DATA",null),V.a.setPageTitle(this.pageTitle)}))},onChangeAvatarImg(e){(0,W.UE)(e)&&(this.avatarImg=e.name,this.avatarImgSize=e.size)},onChangeOgImg(e){(0,W.UE)(e)&&(this.ogImg=e.name,this.ogImgSize=e.size)},onClickFile(e){0<this.avatarFileList.length?(this.$refs["blogConfigForm"].setFieldValue("avatarImg",e.public_id),this.$refs["blogConfigForm"].setFieldValue("avatarImgUrl",e.url),this.$refs["blogConfigForm"].setFieldValue("avatarImgSize",e.bytes)):0<this.ogFileList.length&&(this.$refs["blogConfigForm"].setFieldValue("ogImg",e.public_id),this.$refs["blogConfigForm"].setFieldValue("ogImgUrl",e.url),this.$refs["blogConfigForm"].setFieldValue("ogImgSize",e.bytes))},async listFile(e){"avatar"===e&&0<this.avatarFileList.length?this.avatarFileList=[]:"og"===e&&0<this.ogFileList.length?this.ogFileList=[]:(this.dataLoaded=!1,await(()=>this.$http.get("/file").then((l=>{0!==l.data.length?"avatar"===e?(this.avatarFileList=[...l.data],this.ogFileList=[]):"og"===e&&(this.ogFileList=[...l.data],this.avatarFileList=[]):W.wW.toastWarning("파일이 존재하지 않습니다.")})))(),this.dataLoading())},dataLoading(){(0<this.avatarFileList.length||0<this.ogFileList.length)&&(this.dataLoaded=!0)}}},z=o(89);const L=(0,z.Z)(k,[["render",S],["__scopeId","data-v-c73f2578"]]);var O=L}}]);
//# sourceMappingURL=169.3bd7b565.js.map