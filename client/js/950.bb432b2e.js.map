{"version":3,"file":"js/950.bb432b2e.js","mappings":"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","sources":["webpack://selosele2/./src/services/breadcrumb/breadcrumbService.js","webpack://selosele2/./src/views/AppAdminMenu.vue","webpack://selosele2/./src/components/views/menu/AppSaveMenu.vue","webpack://selosele2/./src/components/views/menu/AppSaveMenu.vue?beea","webpack://selosele2/./src/views/AppAdminMenu.vue?1d1f"],"sourcesContent":["import store from '@/store';\r\nimport { isNotEmpty } from '@/utils';\r\n\r\n/** Breadcrumb Service */\r\nclass BreadcrumbService {\r\n\r\n  constructor() {\r\n  }\r\n\r\n  /** 페이지 타이틀 변경 */\r\n  setPageTitle(pageTitle) {\r\n    if (isNotEmpty(pageTitle)) {\r\n      document.title = `${pageTitle} - ${store.state.BlogConfig.data.title}`;\r\n    } else {\r\n      document.title = store.state.BlogConfig.data.title;\r\n    }\r\n  }\r\n  \r\n}\r\n\r\nexport const breadcrumbService = new BreadcrumbService();\r\n","<template>\r\n  <app-content-wrapper :pageTitle=\"pageTitle\">\r\n    <template v-if=\"!dataLoaded\">\r\n      <ui-skeletor :height=\"'1.3rem'\"></ui-skeletor>\r\n      <ui-skeletor :height=\"'1.3rem'\"></ui-skeletor>\r\n      <ui-skeletor :height=\"'1.3rem'\"></ui-skeletor>\r\n    </template>\r\n\r\n    <template v-else>\r\n      <ui-split-pane>\r\n        <ui-pane :isTransparent=\"true\">\r\n          <ui-tree :nodes=\"menuTree\"\r\n                   :useCheckbox=\"false\"\r\n                   :filter=\"true\"\r\n                   :placeholder=\"'메뉴명 입력'\"\r\n                   @onNodeClick=\"onNodeClick\">\r\n\r\n            <template v-slot:btn>\r\n              <ui-button :color=\"'primary'\"\r\n                         @click=\"addMenu\">추가\r\n              </ui-button>\r\n            </template>\r\n          </ui-tree>\r\n        </ui-pane>\r\n\r\n        <ui-pane v-if=\"isSplitterActive\">\r\n          <ui-loading :activeModel=\"!dataLoaded2\"></ui-loading>\r\n          \r\n          <app-save-menu v-if=\"dataLoaded2\"\r\n                         :menu=\"menu\"\r\n                         :parentMenuList=\"parentMenuList\"\r\n                         :key=\"menu.id\"\r\n                         @refreshMenu=\"refreshTree\">\r\n          </app-save-menu>\r\n        </ui-pane>\r\n      </ui-split-pane>\r\n    </template>\r\n  </app-content-wrapper>\r\n</template>\r\n\r\n<script>\r\nimport AppSaveMenu from '@/components/views/menu/AppSaveMenu.vue';\r\nimport { breadcrumbService } from '@/services/breadcrumb/breadcrumbService';\r\nimport { isNotEmpty } from '@/utils';\r\n\r\nexport default {\r\n  name: 'app-admin-menu',\r\n  components: {\r\n    AppSaveMenu,\r\n  },\r\n  data() {\r\n    return {\r\n      pageTitle: '메뉴 관리',\r\n      menuTree: [],\r\n      menu: {},\r\n      parentMenuList: [],\r\n      dataLoaded: false,\r\n      dataLoaded2: false,\r\n    }\r\n  },\r\n  created() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    /** 초기 세팅 */\r\n    async init() {\r\n      // 페이지 타이틀 세팅\r\n      breadcrumbService.setPageTitle(this.pageTitle);\r\n\r\n      await this.listMenuTree();\r\n\r\n      this.$store.commit('Splitter/TOGGLE', true);\r\n      this.dataLoaded = true;\r\n      this.dataLoaded2 = true;\r\n    },\r\n    /** 메뉴 계층형 구조 조회 */\r\n    listMenuTree() {\r\n      return this.$http.get('/menu/list/tree')\r\n        .then(res => {\r\n          this.createTree(res.data);\r\n          this.parentMenuList = this.listParentMenu(this.$store.state.Menu.data, []);\r\n        });\r\n    },\r\n    /** 트리 생성 */\r\n    createTree(data) {\r\n      data.forEach(parent => {\r\n\r\n        // 최상위 node\r\n        let rootNode = {\r\n          id: parent.id,\r\n          label: parent.name,\r\n          nodes: parent.children.map((child, idx, self) => {\r\n            if (0 === self.length) return {};\r\n\r\n            // 자식(포스트) node를 리턴\r\n            return {\r\n              id: child.id,\r\n              label: child.name,\r\n            };\r\n          }),\r\n        };\r\n\r\n        // node를 배열에 넣는다.\r\n        this.menuTree.push(rootNode);\r\n      });\r\n    },\r\n    /** node 클릭 시 */\r\n    async onNodeClick(node) {\r\n      this.$store.commit('Splitter/TOGGLE', true);\r\n\r\n      // 똑같은 node를 여러번 클릭해서 API가 호출되는 것을 막기 위해, node.id와 menu.id가 다를 때만 API를 호출한다.\r\n      if (node.id !== this.menu?.id) {\r\n        this.dataLoaded2 = false;\r\n\r\n        await this.getMenu(node);\r\n        this.dataLoading2();\r\n      }\r\n    },\r\n    /** 트리 갱신 */\r\n    async refreshTree() {\r\n      this.resetMenu();\r\n      this.menuTree = [];\r\n\r\n      await this.listMenuTree();\r\n    },\r\n    /** 메뉴 조회 */\r\n    getMenu(node) {\r\n      return this.$http.get(`/menu/${node.id}`)\r\n        .then(res => {\r\n          this.menu = { ...res.data };\r\n          this.parentMenuList = this.listParentMenu(this.$store.state.Menu.data, [])\r\n            .filter(d => d.value !== this.menu.id);\r\n\r\n          this.menu.regDate = this.$moment(this.menu.regDate).format('YYYY-MM-DD HH:mm:ss');\r\n        });\r\n    },\r\n    /** 조회된 메뉴를 제외한 메뉴 목록 조회 */\r\n    listParentMenu(nodes, arr) {\r\n      return nodes.map(d => {\r\n        return {\r\n          value: d.id,\r\n          text: d.name,\r\n        };\r\n      });\r\n      \r\n      // 2022.12.31. 최대 2depth로 제한해야 해서, 아래와 같은 로직이 의미가 없음. 추후 depth 확장 고려해서 로직을 주석처리만 해둠.\r\n      // if (!nodes) return [];\r\n      // if (!arr) arr = [];\r\n\r\n      // for (let node of nodes) {\r\n      //   arr.push({\r\n      //     value: node.id,\r\n      //     text: node.name,\r\n      //   });\r\n\r\n      //   this.listParentMenu(node.children, arr);\r\n      // }\r\n\r\n      // return arr;\r\n    },\r\n    /** 메뉴 추가 */\r\n    addMenu() {\r\n      this.resetMenu();\r\n    },\r\n    /** 메뉴 초기화 */\r\n    resetMenu() {\r\n      this.menu = {};\r\n      this.menu.id = null;\r\n      this.menu.parentId = 0;\r\n      this.parentMenuList = this.listParentMenu(this.$store.state.Menu.data, []);\r\n    },\r\n    /** 데이타 로딩 */\r\n    dataLoading2() {\r\n      if (isNotEmpty(this.menu) && 0 < Object.values(this.menu).length) {\r\n        this.dataLoaded2 = true;\r\n      }\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>","<template>\r\n  <ui-split-form :name=\"'saveMenuForm'\"\r\n                 :btnRemove=\"true\"\r\n                 @onsubmit=\"onSubmit\"\r\n                 @remove=\"onRemove\"\r\n  >\r\n    <ui-hidden-field :name=\"'id'\"\r\n                     :ref=\"'menuId'\"\r\n                     :value=\"menu.id\">\r\n    </ui-hidden-field>\r\n\r\n    <ui-select :name=\"'parentId'\"\r\n               :id=\"'menuParentId'\"\r\n               :title=\"'부모 메뉴'\"\r\n               :label=\"'부모 메뉴'\"\r\n               :defaultValue=\"'부모 메뉴 선택'\"\r\n               :data=\"parentMenuList\"\r\n               v-model=\"parentId\">\r\n    </ui-select>\r\n\r\n    <ui-text-field :type=\"'text'\"\r\n                   :name=\"'name'\"\r\n                   :id=\"'menuName'\"\r\n                   :label=\"'메뉴 명'\"\r\n                   :rules=\"'required'\"\r\n                   :value=\"menu.name\">\r\n    </ui-text-field>\r\n\r\n    <ui-text-field :type=\"'text'\"\r\n                   :name=\"'link'\"\r\n                   :id=\"'menuLink'\"\r\n                   :label=\"'메뉴 링크'\"\r\n                   :rules=\"'required'\"\r\n                   :value=\"menu.link\">\r\n    </ui-text-field>\r\n\r\n    <ui-text-field :type=\"'text'\"\r\n                   :name=\"'regDate'\"\r\n                   :id=\"'menuRegDate'\"\r\n                   :label=\"'메뉴 등록일시'\"\r\n                   :readonly=\"true\"\r\n                   :value=\"menu.regDate\">\r\n    </ui-text-field>\r\n\r\n    <ui-numeric-field :name=\"'sort'\"\r\n                      :id=\"'menuSort'\"\r\n                      :label=\"'메뉴 정렬 순서'\"\r\n                      :rules=\"'required'\"\r\n                      :value=\"menu.sort\">\r\n    </ui-numeric-field>\r\n\r\n    <ui-select :name=\"'role'\"\r\n               :id=\"'menuRoles'\"\r\n               :title=\"'메뉴 권한'\"\r\n               :label=\"'메뉴 권한'\"\r\n               :rules=\"'required'\"\r\n               :defaultValue=\"'메뉴 권한 선택'\"\r\n               :data=\"roleList\"\r\n               v-model=\"role\">\r\n    </ui-select>\r\n\r\n    <ui-radio-group :label=\"'메뉴 사용 여부'\">\r\n      <ui-radio :id=\"'menuUseYn1'\"\r\n                :name=\"'useYn'\"\r\n                :label=\"'사용'\"\r\n                :value=\"'Y'\"\r\n                :rules=\"'required'\"\r\n                v-model=\"useYn\">\r\n      </ui-radio>\r\n      <ui-radio :id=\"'menuUseYn2'\"\r\n                :name=\"'useYn'\"\r\n                :label=\"'미사용'\"\r\n                :value=\"'N'\"\r\n                :rules=\"'required'\"\r\n                v-model=\"useYn\">\r\n      </ui-radio>\r\n    </ui-radio-group>\r\n  </ui-split-form>\r\n</template>\r\n\r\n<script>\r\nimport { messageUtil, isEmpty, isNotEmpty } from '@/utils';\r\n\r\nexport default {\r\n  name: 'app-save-menu',\r\n  props: {\r\n    /** 메뉴 정보 */\r\n    menu: Object,\r\n    /** 부모 메뉴 목록 */\r\n    parentMenuList: Array,\r\n  },\r\n  data() {\r\n    return {\r\n      parentId: '',\r\n      useYn: '',\r\n      role: '',\r\n      roleList: [],\r\n    }\r\n  },\r\n  async created() {\r\n    this.parentId = this.menu.parentId;\r\n    this.useYn = this.menu.useYn;\r\n\r\n    await this.listRole();\r\n\r\n    this.role = this.getMenuRoleModel();\r\n  },\r\n  methods: {\r\n    /** 메뉴 저장 */\r\n    async onSubmit(values) {\r\n      const confirm = await messageUtil.confirmSuccess('저장하시겠습니까?');\r\n      if (!confirm) return;\r\n\r\n      // 메뉴 ID 값이 없으면 추가 API를 타고\r\n      if (isEmpty(values.id)) {\r\n        await this.addMenu(values);\r\n      } else {\r\n        // 있으면 수정 API를 탄다.\r\n        await this.updateMenu(values);\r\n      }\r\n\r\n      this.listMenu();\r\n    },\r\n    /** 메뉴 삭제 */\r\n    async onRemove(values) {\r\n      if (isEmpty(values.id)) return;\r\n\r\n      const confirm = await messageUtil.confirmSuccess('삭제하시겠습니까?');\r\n      if (!confirm) return;\r\n\r\n      this.$http.delete(`/menu/${values.id}`)\r\n        .then(res => {\r\n          messageUtil.toastSuccess('삭제되었습니다.');\r\n\r\n          this.listMenu();\r\n          this.$emit('refreshMenu');\r\n        });\r\n    },\r\n    /** 메뉴 추가 */\r\n    addMenu(values) {\r\n      return this.$http.post('/menu', values)\r\n        .then(res => {\r\n          messageUtil.toastSuccess('저장되었습니다.');\r\n\r\n          this.$refs['menuId'].$el.value = res.data.id;\r\n          this.$emit('refreshMenu');\r\n        });\r\n    },\r\n    /** 메뉴 목록 조회 */\r\n    listMenu() {\r\n      this.$store.dispatch('Menu/LIST_MENU', {\r\n        client: this.$http,\r\n        params: {\r\n          useYn: 'Y',\r\n        },\r\n      });\r\n    },\r\n    /** 메뉴 수정 */\r\n    updateMenu(values) {\r\n      return this.$http.put('/menu', values)\r\n        .then(res => {\r\n          messageUtil.toastSuccess('저장되었습니다.');\r\n\r\n          this.$refs['menuId'].$el.value = res.data.id;\r\n          this.$emit('refreshMenu');\r\n        });\r\n    },\r\n    /** 권한 목록 조회 */\r\n    listRole() {\r\n      return this.$http.get('/auth/role')\r\n        .then(res => {\r\n          this.roleList = [\r\n            ...res.data.map(d => {\r\n              return {\r\n                value: d.roleId,\r\n                text: d.roleNm,\r\n              };\r\n            })\r\n          ];\r\n          \r\n          this.roleList.push({ value: '0', text: '모든 권한 허용' });\r\n        });\r\n    },\r\n    /** 메뉴 권한 model 얻기 */\r\n    getMenuRoleModel() {\r\n      if (isNotEmpty(this.menu.menuRole) && 0 < this.menu.menuRole.length) {\r\n        const list = this.menu.menuRole.filter(m => {\r\n          return this.roleList.filter(r => r.value === m.roleId).length > 0;\r\n        });\r\n\r\n        return 1 < list.length ? '0' : list[0].roleId;\r\n      }\r\n\r\n      return '';\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>","import { render } from \"./AppSaveMenu.vue?vue&type=template&id=397c9612\"\nimport script from \"./AppSaveMenu.vue?vue&type=script&lang=js\"\nexport * from \"./AppSaveMenu.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\dmitr\\\\Desktop\\\\p\\\\repo\\\\selosele2\\\\frontend\\\\selosele2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./AppAdminMenu.vue?vue&type=template&id=4986cc16\"\nimport script from \"./AppAdminMenu.vue?vue&type=script&lang=js\"\nexport * from \"./AppAdminMenu.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\dmitr\\\\Desktop\\\\p\\\\repo\\\\selosele2\\\\frontend\\\\selosele2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["BreadcrumbService","constructor","setPageTitle","pageTitle","isNotEmpty","document","title","store","breadcrumbService","_createBlock","_component_app_content_wrapper","$data","_component_ui_split_pane","key","_createVNode","_component_ui_pane","isTransparent","_component_ui_tree","nodes","useCheckbox","filter","placeholder","onOnNodeClick","$options","btn","_component_ui_button","color","onClick","_ctx","_component_ui_loading","activeModel","_component_app_save_menu","menu","parentMenuList","id","onRefreshMenu","_createElementBlock","_Fragment","_component_ui_skeletor","height","_component_ui_split_form","name","btnRemove","onOnsubmit","onRemove","_component_ui_hidden_field","ref","value","$props","_component_ui_select","label","defaultValue","data","$event","_component_ui_text_field","type","rules","link","readonly","regDate","_component_ui_numeric_field","sort","_component_ui_radio_group","_component_ui_radio","props","Object","Array","parentId","useYn","role","roleList","async","this","listRole","getMenuRoleModel","methods","values","confirm","messageUtil","isEmpty","addMenu","updateMenu","listMenu","$http","delete","then","res","$emit","post","$refs","$el","$store","dispatch","client","params","put","get","map","d","roleId","text","roleNm","push","menuRole","length","list","m","r","__exports__","components","AppSaveMenu","menuTree","dataLoaded","dataLoaded2","created","init","listMenuTree","commit","createTree","listParentMenu","state","Menu","forEach","parent","rootNode","children","child","idx","self","node","getMenu","dataLoading2","resetMenu","$moment","format","arr","render"],"sourceRoot":""}